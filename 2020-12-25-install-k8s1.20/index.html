<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>安装部署k8s - 斌哥的小站|Binge Blog</title><meta name=Description content="国内环境安装部署k8s"><meta property="og:title" content="安装部署k8s"><meta property="og:description" content="国内环境安装部署k8s"><meta property="og:type" content="article"><meta property="og:url" content="http://bingerambo.com/2020-12-25-install-k8s1.20/"><meta property="og:image" content="http://bingerambo.com/logo.png"><meta property="article:published_time" content="2020-12-25T08:43:17+08:00"><meta property="article:modified_time" content="2020-12-25T08:43:17+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://bingerambo.com/logo.png"><meta name=twitter:title content="安装部署k8s"><meta name=twitter:description content="国内环境安装部署k8s"><meta name=application-name content="Binge Blog"><meta name=apple-mobile-web-app-title content="Binge Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=http://bingerambo.com/2020-12-25-install-k8s1.20/><link rel=prev href=http://bingerambo.com/2020-12-23-centos-7-enable-user-namespaces/><link rel=next href=http://bingerambo.com/2020-12-25-install-nvdocker-k8s-nv-dp/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"安装部署k8s","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/bingerambo.com\/2020-12-25-install-k8s1.20\/"},"image":["http:\/\/bingerambo.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"K8S","wordcount":8139,"url":"http:\/\/bingerambo.com\/2020-12-25-install-k8s1.20\/","datePublished":"2020-12-25T08:43:17+08:00","dateModified":"2020-12-25T08:43:17+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"xxxx","logo":"http:\/\/bingerambo.com\/images\/avatar.png"},"author":{"@type":"Person","name":"Binge"},"description":"国内环境安装部署k8s"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="斌哥的小站|Binge Blog"><span class=header-title-pre><i class="fas fa-biking fa-fw"></i></span>Binge Blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/><i class="fas fa-fw fa-archive"></i>文章 </a><a class=menu-item href=/tags/><i class="fas fa-fw fa-tag"></i>标签 </a><a class=menu-item href=/categories/><i class="fas fa-fw fa-th"></i>分类 </a><a class=menu-item href=/notes/><i class="fas fa-cog fa-spin"></i>随记 </a><a class=menu-item href=/about/><i class="fas fa-fw fa-at"></i>关于 </a><a class=menu-item href=/search/><i class="fas fa-fw fa-search"></i>搜索 </a><a class=menu-item href=/friend/ title=Friend><i class="fas fa fa-user"></i>友链 </a><a class=menu-item href=https://github.com/bingerambo title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i></a><a class=menu-item href=/><i class="fas fa fa-eye"></i><span id=busuanzi_value_site_uv></span></a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="斌哥的小站|Binge Blog"><span class=header-title-pre><i class="fas fa-biking fa-fw"></i></span>Binge Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/><i class="fas fa-fw fa-archive"></i>文章</a><a class=menu-item href=/tags/><i class="fas fa-fw fa-tag"></i>标签</a><a class=menu-item href=/categories/><i class="fas fa-fw fa-th"></i>分类</a><a class=menu-item href=/notes/><i class="fas fa-cog fa-spin"></i>随记</a><a class=menu-item href=/about/><i class="fas fa-fw fa-at"></i>关于</a><a class=menu-item href=/search/><i class="fas fa-fw fa-search"></i>搜索</a><a class=menu-item href=/friend/ title=Friend><i class="fas fa fa-user"></i>友链</a><a class=menu-item href=https://github.com/bingerambo title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i></a><a class=menu-item href=/><i class="fas fa fa-eye"></i><span id=busuanzi_value_site_uv></span></a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">安装部署k8s</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=http://bingerambo.com title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>Binge</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/k8s/><i class="far fa-folder fa-fw"></i>K8S</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-12-25>2020-12-25</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 8139 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 17 分钟&nbsp;
<i class="fa fa-eye fa-fw"></i>&nbsp;本文总阅读量 <span id=busuanzi_value_page_pv></span>次&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#k8s版本包>k8s版本包</a></li><li><a href=#kubespray-说明>kubespray 说明</a></li><li><a href=#kubespray-安装>kubespray 安装</a><ul><li><a href=#示例>示例</a><ul><li><a href=#ansible版本>ansible版本</a></li><li><a href=#安装命令>安装命令</a></li><li><a href=#卸载命令>卸载命令</a></li></ul></li></ul></li><li><a href=#kubespray-修改>kubespray 修改</a><ul><li><a href=#脚本修改>脚本修改</a></li><li><a href=#文件服务file-server>文件服务file server</a></li><li><a href=#下载缓存目录tmprelease>下载缓存目录/tmp/release</a></li><li><a href=#命令目录文件>命令目录文件</a></li><li><a href=#k8s镜像下载>k8s镜像下载</a><ul><li><a href=#编辑下载脚本>编辑下载脚本</a></li><li><a href=#执行脚本>执行脚本</a></li></ul></li></ul></li><li><a href=#非下载方式说明>非下载方式说明</a></li><li><a href=#k8s相关镜像>k8s相关镜像</a></li><li><a href=#k8s组件适配>k8s组件适配</a><ul><li><a href=#kube-batch>kube-batch</a></li></ul></li><li><a href=#安装完成状态>安装完成状态</a></li><li><a href=#问题>问题</a><ul><li><a href=#coredns等报错connect-no-route-to-host>coredns等报错：connect: no route to host</a></li><li><a href=#dns-autoscaler-报错>dns-autoscaler 报错</a></li><li><a href=#创建pod报错>创建pod报错</a></li><li><a href=#出现目录无法删除device-or-resource-busy>出现目录无法删除：Device or resource busy</a></li><li><a href=#calico-node-pod一直没有起来>calico node pod一直没有起来</a></li><li><a href=#启动测试podfailed-to-create-pod-sandbox>启动测试pod，Failed to create pod sandbox</a></li><li><a href=#kuelet120-配置--cgroups-per-qosfalse-时会导致kubelet无法正常启动>kuelet1.20 配置&ndash;cgroups-per-qos=False 时会导致kubelet无法正常启动</a></li><li><a href=#测试pod一直是containercreating>测试pod一直是ContainerCreating</a></li></ul></li><li><a href=#附录>附录</a><ul><li><a href=#命令>命令</a></li><li><a href=#访问dashboard>访问dashboard</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>上周末k8s刚刚发布了1.20.1版本，抢鲜安装体验下。</p><ul><li>由于网络原因，访问谷歌外网不是很方便，所以本文采用国内可访问的资源进行安装，资源包括：k8s二进制文件和镜像文件</li><li>安装方式采用kubespray，<a href=https://github.com/kubernetes-sigs/kubespray target=_blank rel="noopener noreffer">项目地址</a></li></ul><h2 id=k8s版本包>k8s版本包</h2><p>k8s社区版本发布地址如下</p><p><a href=https://storage.googleapis.com/kubernetes-release/release/>https://storage.googleapis.com/kubernetes-release/release/</a>
分别有server、node、client三种版本包二进制文件。下载方式如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>wget https://storage.googleapis.com/kubernetes-release/release/v1.20.1/kubernetes-server-linux-amd64.tar.gz


wget https://storage.googleapis.com/kubernetes-release/release/v1.20.1/kubernetes-node-linux-amd64.tar.gz


wget https://storage.googleapis.com/kubernetes-release/release/v1.20.1/kubernetes-client-linux-amd64.tar.gz


</code></pre></td></tr></table></div></div><p>上面这些地址无法直接访问。可以改由下面方式下载：</p><p>通过 <a href=https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.20.md target=_blank rel="noopener noreffer">CHANGELOG-1.20</a>里面的指定的位置，下载指定版本 如1.12.1</p><p>实际上，对于安装部署，只要node中的版本包即可。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>wget https://storage.googleapis.com/kubernetes-release/release/v1.20.1/kubernetes-node-linux-amd64.tar.gz
</code></pre></td></tr></table></div></div><h2 id=kubespray-说明>kubespray 说明</h2><p>安装脚本采用<a href=https://github.com/kubernetes-sigs/kubespray target=_blank rel="noopener noreffer">kubespray</a>，本文使用了目前最新的release版本1.14.2</p><p>kubespray-1.14.2 只支持到了k8s1.19，所以后面我们需要修改kubespray。
首先看下kubespray关于离线安装的事项说明</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown>如果采用离线方式安装
Configure Inventory

Once all artifacts are accessible from your internal network, adjust the following variables in your inventory to match your environment:

<span class=gh># Registry overrides
</span><span class=gh></span>gcr_image_repo: &#34;{{ registry_host }}&#34;
docker_image_repo: &#34;{{ registry_host }}&#34;
quay_image_repo: &#34;{{ registry_host }}&#34;

kubeadm_download_url: &#34;{{ files_repo }}/kubernetes/{{ kube_version }}/kubeadm&#34;
kubectl_download_url: &#34;{{ files_repo }}/kubernetes/{{ kube_version }}/kubectl&#34;
kubelet_download_url: &#34;{{ files_repo }}/kubernetes/{{ kube_version }}/kubelet&#34;
<span class=gh># etcd is optional if you **DON&#39;T** use etcd_deployment=host
</span><span class=gh></span>etcd_download_url: &#34;{{ files_repo }}/kubernetes/etcd/etcd-{{ etcd_version }}-linux-amd64.tar.gz&#34;
cni_download_url: &#34;{{ files_repo }}/kubernetes/cni/cni-plugins-linux-{{ image_arch }}-{{ cni_version }}.tgz&#34;
crictl_download_url: &#34;{{ files_repo }}/kubernetes/cri-tools/crictl-{{ crictl_version }}-{{ ansible_system | lower }}-{{ image_arch }}.tar.gz&#34;
<span class=gh># If using Calico
</span><span class=gh></span>calicoctl_download_url: &#34;{{ files_repo }}/kubernetes/calico/{{ calico_ctl_version }}/calicoctl-linux-{{ image_arch }}&#34;

<span class=gh># CentOS/Redhat
</span><span class=gh></span><span class=gu>## Docker
</span><span class=gu></span>docker_rh_repo_base_url: &#34;{{ yum_repo }}/docker-ce/$releasever/$basearch&#34;
docker_rh_repo_gpgkey: &#34;{{ yum_repo }}/docker-ce/gpg&#34;
<span class=gu>## Containerd
</span><span class=gu></span>extras_rh_repo_base_url: &#34;{{ yum_repo }}/centos/$releasever/extras/$basearch&#34;
extras_rh_repo_gpgkey: &#34;{{ yum_repo }}/containerd/gpg&#34;

<span class=gh># Fedora
</span><span class=gh></span><span class=gu>## Docker
</span><span class=gu></span>docker_fedora_repo_base_url: &#34;{{ yum_repo }}/docker-ce/{{ ansible_distribution_major_version }}/{{ ansible_architecture }}&#34;
docker_fedora_repo_gpgkey: &#34;{{ yum_repo }}/docker-ce/gpg&#34;
<span class=gu>## Containerd
</span><span class=gu></span>containerd_fedora_repo_base_url: &#34;{{ yum_repo }}/containerd&#34;
containerd_fedora_repo_gpgkey: &#34;{{ yum_repo }}/docker-ce/gpg&#34;

<span class=gh># Debian
</span><span class=gh></span><span class=gu>## Docker
</span><span class=gu></span>docker_debian_repo_base_url: &#34;{{ debian_repo }}/docker-ce&#34;
docker_debian_repo_gpgkey: &#34;{{ debian_repo }}/docker-ce/gpg&#34;
<span class=gu>## Containerd
</span><span class=gu></span>containerd_debian_repo_base_url: &#34;{{ ubuntu_repo }}/containerd&#34;
containerd_debian_repo_gpgkey: &#34;{{ ubuntu_repo }}/containerd/gpg&#34;
containerd_debian_repo_repokey: &#39;YOURREPOKEY&#39;

<span class=gh># Ubuntu
</span><span class=gh></span><span class=gu>## Docker
</span><span class=gu></span>docker_ubuntu_repo_base_url: &#34;{{ ubuntu_repo }}/docker-ce&#34;
docker_ubuntu_repo_gpgkey: &#34;{{ ubuntu_repo }}/docker-ce/gpg&#34;
<span class=gu>## Containerd
</span><span class=gu></span>containerd_ubuntu_repo_base_url: &#34;{{ ubuntu_repo }}/containerd&#34;
containerd_ubuntu_repo_gpgkey: &#34;{{ ubuntu_repo }}/containerd/gpg&#34;
containerd_ubuntu_repo_repokey: &#39;YOURREPOKEY&#39;

<span class=gh># If using helm
</span><span class=gh></span>helm_stable_repo_url: &#34;{{ helm_registry }}&#34;
</code></pre></td></tr></table></div></div><p>一些k8s组件程序文件，如 kubelet 保存路径如下:
{{ local_release_dir }}/kubelet-{{ kube_version }}-{{ image_arch }}</p><h2 id=kubespray-安装>kubespray 安装</h2><ol><li><p>安装python3环境
参考<a href=http://localhost:1313/2020-12-19-install-python3/ target=_blank rel="noopener noreffer">脚本部署Python3</a></p></li><li><p>安装 ansible</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>pip3 install -r requirements.txt

<span class=c1># 或者</span>
<span class=c1># 临时指定python的pip源，进行安装</span>
pip3 install -i https://pypi.douban.com/simple  -r requirements.txt

</code></pre></td></tr></table></div></div><ol start=3><li>自定义部署配置文件</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell><span class=c1># Copy ``inventory/sample`` as ``inventory/mycluster``</span>
<span class=c1># cp -rfp inventory/sample inventory/mycluster</span>

cp -rfp inventory/sample inventory/deploy_cluster
</code></pre></td></tr></table></div></div><p>接着对deploy_cluster和源码脚本进行可修改，详见下文</p><ol start=4><li>执行kubespray安装或卸载</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown><span class=gh># 这里我修改了自定义部署配置目录为 deploy_cluster， 并修改其中的配置参数
</span><span class=gh></span>ansible-playbook -i inventory/deploy_cluster/inventory.ini  --become --become-user=root cluster.yml -vvv

<span class=gh># 卸载命令
</span><span class=gh></span>ansible-playbook -i inventory/deploy_cluster/inventory.ini  --become --become-user=root reset.yml -vvv

<span class=gu>## 清理程序和文件目录
</span><span class=gu></span>rm -rf /etc/kubernetes
rm -rf /var/lib/kubelet
rm -rf /etc/ssl/etcd

卸载时 并没有清理/tmp/release，另外reset后再执行安装，会发现/usr/local/bin/下没有kubeadm，需要从安装目录把kubeadm拷贝过去


</code></pre></td></tr></table></div></div><h3 id=示例>示例</h3><p>aist_cluster环境安装和卸载</p><h4 id=ansible版本>ansible版本</h4><p>确认使用ansible2.9.6</p><h4 id=安装命令>安装命令</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>/usr/local/python3/bin/ansible-playbook -i inventory/aist_cluster/inventory.ini  --become --become-user<span class=o>=</span>root cluster.yml -vvvvv
</code></pre></td></tr></table></div></div><h4 id=卸载命令>卸载命令</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>/usr/local/python3/bin/ansible-playbook -i inventory/aist_cluster/inventory.ini  --become --become-user<span class=o>=</span>root reset.yml -vvvvv
<span class=c1>## 清理程序和文件目录</span>
rm -rf /etc/kubernetes
rm -rf /var/lib/kubelet
rm -rf /etc/ssl/etcd
</code></pre></td></tr></table></div></div><h2 id=kubespray-修改>kubespray 修改</h2><h3 id=脚本修改>脚本修改</h3><p>修改点说明</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown><span class=gu>### 下载校验关闭
</span><span class=gu></span>由于安装的是新版本1.20.原有kubespray并不支持，所以需要把其对二进制文件的下载校验关闭

把手动替换的几个程序文件的校验操作关闭

<span class=gh># kubeadm
</span><span class=gh>#    sha256: &#34;{{ kubeadm_binary_checksum }}&#34;
</span><span class=gh>#    sha256: &#34;{{ kubelet_binary_checksum }}&#34;
</span><span class=gh>#    sha256: &#34;{{ kubectl_binary_checksum }}&#34;
</span><span class=gh></span>
<span class=gu>### 修改下载地址包括二进制文件和镜像
</span><span class=gu></span>
<span class=gu>### 已有下载文件的下载关闭
</span><span class=gu></span>把 download tasks/main.yaml

download | Get kubeadm binary and list of required images 注释掉
</code></pre></td></tr></table></div></div><p>kubespray-2.14.2\roles\download\defaults\main.yaml</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>   1
</span><span class=lnt>   2
</span><span class=lnt>   3
</span><span class=lnt>   4
</span><span class=lnt>   5
</span><span class=lnt>   6
</span><span class=lnt>   7
</span><span class=lnt>   8
</span><span class=lnt>   9
</span><span class=lnt>  10
</span><span class=lnt>  11
</span><span class=lnt>  12
</span><span class=lnt>  13
</span><span class=lnt>  14
</span><span class=lnt>  15
</span><span class=lnt>  16
</span><span class=lnt>  17
</span><span class=lnt>  18
</span><span class=lnt>  19
</span><span class=lnt>  20
</span><span class=lnt>  21
</span><span class=lnt>  22
</span><span class=lnt>  23
</span><span class=lnt>  24
</span><span class=lnt>  25
</span><span class=lnt>  26
</span><span class=lnt>  27
</span><span class=lnt>  28
</span><span class=lnt>  29
</span><span class=lnt>  30
</span><span class=lnt>  31
</span><span class=lnt>  32
</span><span class=lnt>  33
</span><span class=lnt>  34
</span><span class=lnt>  35
</span><span class=lnt>  36
</span><span class=lnt>  37
</span><span class=lnt>  38
</span><span class=lnt>  39
</span><span class=lnt>  40
</span><span class=lnt>  41
</span><span class=lnt>  42
</span><span class=lnt>  43
</span><span class=lnt>  44
</span><span class=lnt>  45
</span><span class=lnt>  46
</span><span class=lnt>  47
</span><span class=lnt>  48
</span><span class=lnt>  49
</span><span class=lnt>  50
</span><span class=lnt>  51
</span><span class=lnt>  52
</span><span class=lnt>  53
</span><span class=lnt>  54
</span><span class=lnt>  55
</span><span class=lnt>  56
</span><span class=lnt>  57
</span><span class=lnt>  58
</span><span class=lnt>  59
</span><span class=lnt>  60
</span><span class=lnt>  61
</span><span class=lnt>  62
</span><span class=lnt>  63
</span><span class=lnt>  64
</span><span class=lnt>  65
</span><span class=lnt>  66
</span><span class=lnt>  67
</span><span class=lnt>  68
</span><span class=lnt>  69
</span><span class=lnt>  70
</span><span class=lnt>  71
</span><span class=lnt>  72
</span><span class=lnt>  73
</span><span class=lnt>  74
</span><span class=lnt>  75
</span><span class=lnt>  76
</span><span class=lnt>  77
</span><span class=lnt>  78
</span><span class=lnt>  79
</span><span class=lnt>  80
</span><span class=lnt>  81
</span><span class=lnt>  82
</span><span class=lnt>  83
</span><span class=lnt>  84
</span><span class=lnt>  85
</span><span class=lnt>  86
</span><span class=lnt>  87
</span><span class=lnt>  88
</span><span class=lnt>  89
</span><span class=lnt>  90
</span><span class=lnt>  91
</span><span class=lnt>  92
</span><span class=lnt>  93
</span><span class=lnt>  94
</span><span class=lnt>  95
</span><span class=lnt>  96
</span><span class=lnt>  97
</span><span class=lnt>  98
</span><span class=lnt>  99
</span><span class=lnt> 100
</span><span class=lnt> 101
</span><span class=lnt> 102
</span><span class=lnt> 103
</span><span class=lnt> 104
</span><span class=lnt> 105
</span><span class=lnt> 106
</span><span class=lnt> 107
</span><span class=lnt> 108
</span><span class=lnt> 109
</span><span class=lnt> 110
</span><span class=lnt> 111
</span><span class=lnt> 112
</span><span class=lnt> 113
</span><span class=lnt> 114
</span><span class=lnt> 115
</span><span class=lnt> 116
</span><span class=lnt> 117
</span><span class=lnt> 118
</span><span class=lnt> 119
</span><span class=lnt> 120
</span><span class=lnt> 121
</span><span class=lnt> 122
</span><span class=lnt> 123
</span><span class=lnt> 124
</span><span class=lnt> 125
</span><span class=lnt> 126
</span><span class=lnt> 127
</span><span class=lnt> 128
</span><span class=lnt> 129
</span><span class=lnt> 130
</span><span class=lnt> 131
</span><span class=lnt> 132
</span><span class=lnt> 133
</span><span class=lnt> 134
</span><span class=lnt> 135
</span><span class=lnt> 136
</span><span class=lnt> 137
</span><span class=lnt> 138
</span><span class=lnt> 139
</span><span class=lnt> 140
</span><span class=lnt> 141
</span><span class=lnt> 142
</span><span class=lnt> 143
</span><span class=lnt> 144
</span><span class=lnt> 145
</span><span class=lnt> 146
</span><span class=lnt> 147
</span><span class=lnt> 148
</span><span class=lnt> 149
</span><span class=lnt> 150
</span><span class=lnt> 151
</span><span class=lnt> 152
</span><span class=lnt> 153
</span><span class=lnt> 154
</span><span class=lnt> 155
</span><span class=lnt> 156
</span><span class=lnt> 157
</span><span class=lnt> 158
</span><span class=lnt> 159
</span><span class=lnt> 160
</span><span class=lnt> 161
</span><span class=lnt> 162
</span><span class=lnt> 163
</span><span class=lnt> 164
</span><span class=lnt> 165
</span><span class=lnt> 166
</span><span class=lnt> 167
</span><span class=lnt> 168
</span><span class=lnt> 169
</span><span class=lnt> 170
</span><span class=lnt> 171
</span><span class=lnt> 172
</span><span class=lnt> 173
</span><span class=lnt> 174
</span><span class=lnt> 175
</span><span class=lnt> 176
</span><span class=lnt> 177
</span><span class=lnt> 178
</span><span class=lnt> 179
</span><span class=lnt> 180
</span><span class=lnt> 181
</span><span class=lnt> 182
</span><span class=lnt> 183
</span><span class=lnt> 184
</span><span class=lnt> 185
</span><span class=lnt> 186
</span><span class=lnt> 187
</span><span class=lnt> 188
</span><span class=lnt> 189
</span><span class=lnt> 190
</span><span class=lnt> 191
</span><span class=lnt> 192
</span><span class=lnt> 193
</span><span class=lnt> 194
</span><span class=lnt> 195
</span><span class=lnt> 196
</span><span class=lnt> 197
</span><span class=lnt> 198
</span><span class=lnt> 199
</span><span class=lnt> 200
</span><span class=lnt> 201
</span><span class=lnt> 202
</span><span class=lnt> 203
</span><span class=lnt> 204
</span><span class=lnt> 205
</span><span class=lnt> 206
</span><span class=lnt> 207
</span><span class=lnt> 208
</span><span class=lnt> 209
</span><span class=lnt> 210
</span><span class=lnt> 211
</span><span class=lnt> 212
</span><span class=lnt> 213
</span><span class=lnt> 214
</span><span class=lnt> 215
</span><span class=lnt> 216
</span><span class=lnt> 217
</span><span class=lnt> 218
</span><span class=lnt> 219
</span><span class=lnt> 220
</span><span class=lnt> 221
</span><span class=lnt> 222
</span><span class=lnt> 223
</span><span class=lnt> 224
</span><span class=lnt> 225
</span><span class=lnt> 226
</span><span class=lnt> 227
</span><span class=lnt> 228
</span><span class=lnt> 229
</span><span class=lnt> 230
</span><span class=lnt> 231
</span><span class=lnt> 232
</span><span class=lnt> 233
</span><span class=lnt> 234
</span><span class=lnt> 235
</span><span class=lnt> 236
</span><span class=lnt> 237
</span><span class=lnt> 238
</span><span class=lnt> 239
</span><span class=lnt> 240
</span><span class=lnt> 241
</span><span class=lnt> 242
</span><span class=lnt> 243
</span><span class=lnt> 244
</span><span class=lnt> 245
</span><span class=lnt> 246
</span><span class=lnt> 247
</span><span class=lnt> 248
</span><span class=lnt> 249
</span><span class=lnt> 250
</span><span class=lnt> 251
</span><span class=lnt> 252
</span><span class=lnt> 253
</span><span class=lnt> 254
</span><span class=lnt> 255
</span><span class=lnt> 256
</span><span class=lnt> 257
</span><span class=lnt> 258
</span><span class=lnt> 259
</span><span class=lnt> 260
</span><span class=lnt> 261
</span><span class=lnt> 262
</span><span class=lnt> 263
</span><span class=lnt> 264
</span><span class=lnt> 265
</span><span class=lnt> 266
</span><span class=lnt> 267
</span><span class=lnt> 268
</span><span class=lnt> 269
</span><span class=lnt> 270
</span><span class=lnt> 271
</span><span class=lnt> 272
</span><span class=lnt> 273
</span><span class=lnt> 274
</span><span class=lnt> 275
</span><span class=lnt> 276
</span><span class=lnt> 277
</span><span class=lnt> 278
</span><span class=lnt> 279
</span><span class=lnt> 280
</span><span class=lnt> 281
</span><span class=lnt> 282
</span><span class=lnt> 283
</span><span class=lnt> 284
</span><span class=lnt> 285
</span><span class=lnt> 286
</span><span class=lnt> 287
</span><span class=lnt> 288
</span><span class=lnt> 289
</span><span class=lnt> 290
</span><span class=lnt> 291
</span><span class=lnt> 292
</span><span class=lnt> 293
</span><span class=lnt> 294
</span><span class=lnt> 295
</span><span class=lnt> 296
</span><span class=lnt> 297
</span><span class=lnt> 298
</span><span class=lnt> 299
</span><span class=lnt> 300
</span><span class=lnt> 301
</span><span class=lnt> 302
</span><span class=lnt> 303
</span><span class=lnt> 304
</span><span class=lnt> 305
</span><span class=lnt> 306
</span><span class=lnt> 307
</span><span class=lnt> 308
</span><span class=lnt> 309
</span><span class=lnt> 310
</span><span class=lnt> 311
</span><span class=lnt> 312
</span><span class=lnt> 313
</span><span class=lnt> 314
</span><span class=lnt> 315
</span><span class=lnt> 316
</span><span class=lnt> 317
</span><span class=lnt> 318
</span><span class=lnt> 319
</span><span class=lnt> 320
</span><span class=lnt> 321
</span><span class=lnt> 322
</span><span class=lnt> 323
</span><span class=lnt> 324
</span><span class=lnt> 325
</span><span class=lnt> 326
</span><span class=lnt> 327
</span><span class=lnt> 328
</span><span class=lnt> 329
</span><span class=lnt> 330
</span><span class=lnt> 331
</span><span class=lnt> 332
</span><span class=lnt> 333
</span><span class=lnt> 334
</span><span class=lnt> 335
</span><span class=lnt> 336
</span><span class=lnt> 337
</span><span class=lnt> 338
</span><span class=lnt> 339
</span><span class=lnt> 340
</span><span class=lnt> 341
</span><span class=lnt> 342
</span><span class=lnt> 343
</span><span class=lnt> 344
</span><span class=lnt> 345
</span><span class=lnt> 346
</span><span class=lnt> 347
</span><span class=lnt> 348
</span><span class=lnt> 349
</span><span class=lnt> 350
</span><span class=lnt> 351
</span><span class=lnt> 352
</span><span class=lnt> 353
</span><span class=lnt> 354
</span><span class=lnt> 355
</span><span class=lnt> 356
</span><span class=lnt> 357
</span><span class=lnt> 358
</span><span class=lnt> 359
</span><span class=lnt> 360
</span><span class=lnt> 361
</span><span class=lnt> 362
</span><span class=lnt> 363
</span><span class=lnt> 364
</span><span class=lnt> 365
</span><span class=lnt> 366
</span><span class=lnt> 367
</span><span class=lnt> 368
</span><span class=lnt> 369
</span><span class=lnt> 370
</span><span class=lnt> 371
</span><span class=lnt> 372
</span><span class=lnt> 373
</span><span class=lnt> 374
</span><span class=lnt> 375
</span><span class=lnt> 376
</span><span class=lnt> 377
</span><span class=lnt> 378
</span><span class=lnt> 379
</span><span class=lnt> 380
</span><span class=lnt> 381
</span><span class=lnt> 382
</span><span class=lnt> 383
</span><span class=lnt> 384
</span><span class=lnt> 385
</span><span class=lnt> 386
</span><span class=lnt> 387
</span><span class=lnt> 388
</span><span class=lnt> 389
</span><span class=lnt> 390
</span><span class=lnt> 391
</span><span class=lnt> 392
</span><span class=lnt> 393
</span><span class=lnt> 394
</span><span class=lnt> 395
</span><span class=lnt> 396
</span><span class=lnt> 397
</span><span class=lnt> 398
</span><span class=lnt> 399
</span><span class=lnt> 400
</span><span class=lnt> 401
</span><span class=lnt> 402
</span><span class=lnt> 403
</span><span class=lnt> 404
</span><span class=lnt> 405
</span><span class=lnt> 406
</span><span class=lnt> 407
</span><span class=lnt> 408
</span><span class=lnt> 409
</span><span class=lnt> 410
</span><span class=lnt> 411
</span><span class=lnt> 412
</span><span class=lnt> 413
</span><span class=lnt> 414
</span><span class=lnt> 415
</span><span class=lnt> 416
</span><span class=lnt> 417
</span><span class=lnt> 418
</span><span class=lnt> 419
</span><span class=lnt> 420
</span><span class=lnt> 421
</span><span class=lnt> 422
</span><span class=lnt> 423
</span><span class=lnt> 424
</span><span class=lnt> 425
</span><span class=lnt> 426
</span><span class=lnt> 427
</span><span class=lnt> 428
</span><span class=lnt> 429
</span><span class=lnt> 430
</span><span class=lnt> 431
</span><span class=lnt> 432
</span><span class=lnt> 433
</span><span class=lnt> 434
</span><span class=lnt> 435
</span><span class=lnt> 436
</span><span class=lnt> 437
</span><span class=lnt> 438
</span><span class=lnt> 439
</span><span class=lnt> 440
</span><span class=lnt> 441
</span><span class=lnt> 442
</span><span class=lnt> 443
</span><span class=lnt> 444
</span><span class=lnt> 445
</span><span class=lnt> 446
</span><span class=lnt> 447
</span><span class=lnt> 448
</span><span class=lnt> 449
</span><span class=lnt> 450
</span><span class=lnt> 451
</span><span class=lnt> 452
</span><span class=lnt> 453
</span><span class=lnt> 454
</span><span class=lnt> 455
</span><span class=lnt> 456
</span><span class=lnt> 457
</span><span class=lnt> 458
</span><span class=lnt> 459
</span><span class=lnt> 460
</span><span class=lnt> 461
</span><span class=lnt> 462
</span><span class=lnt> 463
</span><span class=lnt> 464
</span><span class=lnt> 465
</span><span class=lnt> 466
</span><span class=lnt> 467
</span><span class=lnt> 468
</span><span class=lnt> 469
</span><span class=lnt> 470
</span><span class=lnt> 471
</span><span class=lnt> 472
</span><span class=lnt> 473
</span><span class=lnt> 474
</span><span class=lnt> 475
</span><span class=lnt> 476
</span><span class=lnt> 477
</span><span class=lnt> 478
</span><span class=lnt> 479
</span><span class=lnt> 480
</span><span class=lnt> 481
</span><span class=lnt> 482
</span><span class=lnt> 483
</span><span class=lnt> 484
</span><span class=lnt> 485
</span><span class=lnt> 486
</span><span class=lnt> 487
</span><span class=lnt> 488
</span><span class=lnt> 489
</span><span class=lnt> 490
</span><span class=lnt> 491
</span><span class=lnt> 492
</span><span class=lnt> 493
</span><span class=lnt> 494
</span><span class=lnt> 495
</span><span class=lnt> 496
</span><span class=lnt> 497
</span><span class=lnt> 498
</span><span class=lnt> 499
</span><span class=lnt> 500
</span><span class=lnt> 501
</span><span class=lnt> 502
</span><span class=lnt> 503
</span><span class=lnt> 504
</span><span class=lnt> 505
</span><span class=lnt> 506
</span><span class=lnt> 507
</span><span class=lnt> 508
</span><span class=lnt> 509
</span><span class=lnt> 510
</span><span class=lnt> 511
</span><span class=lnt> 512
</span><span class=lnt> 513
</span><span class=lnt> 514
</span><span class=lnt> 515
</span><span class=lnt> 516
</span><span class=lnt> 517
</span><span class=lnt> 518
</span><span class=lnt> 519
</span><span class=lnt> 520
</span><span class=lnt> 521
</span><span class=lnt> 522
</span><span class=lnt> 523
</span><span class=lnt> 524
</span><span class=lnt> 525
</span><span class=lnt> 526
</span><span class=lnt> 527
</span><span class=lnt> 528
</span><span class=lnt> 529
</span><span class=lnt> 530
</span><span class=lnt> 531
</span><span class=lnt> 532
</span><span class=lnt> 533
</span><span class=lnt> 534
</span><span class=lnt> 535
</span><span class=lnt> 536
</span><span class=lnt> 537
</span><span class=lnt> 538
</span><span class=lnt> 539
</span><span class=lnt> 540
</span><span class=lnt> 541
</span><span class=lnt> 542
</span><span class=lnt> 543
</span><span class=lnt> 544
</span><span class=lnt> 545
</span><span class=lnt> 546
</span><span class=lnt> 547
</span><span class=lnt> 548
</span><span class=lnt> 549
</span><span class=lnt> 550
</span><span class=lnt> 551
</span><span class=lnt> 552
</span><span class=lnt> 553
</span><span class=lnt> 554
</span><span class=lnt> 555
</span><span class=lnt> 556
</span><span class=lnt> 557
</span><span class=lnt> 558
</span><span class=lnt> 559
</span><span class=lnt> 560
</span><span class=lnt> 561
</span><span class=lnt> 562
</span><span class=lnt> 563
</span><span class=lnt> 564
</span><span class=lnt> 565
</span><span class=lnt> 566
</span><span class=lnt> 567
</span><span class=lnt> 568
</span><span class=lnt> 569
</span><span class=lnt> 570
</span><span class=lnt> 571
</span><span class=lnt> 572
</span><span class=lnt> 573
</span><span class=lnt> 574
</span><span class=lnt> 575
</span><span class=lnt> 576
</span><span class=lnt> 577
</span><span class=lnt> 578
</span><span class=lnt> 579
</span><span class=lnt> 580
</span><span class=lnt> 581
</span><span class=lnt> 582
</span><span class=lnt> 583
</span><span class=lnt> 584
</span><span class=lnt> 585
</span><span class=lnt> 586
</span><span class=lnt> 587
</span><span class=lnt> 588
</span><span class=lnt> 589
</span><span class=lnt> 590
</span><span class=lnt> 591
</span><span class=lnt> 592
</span><span class=lnt> 593
</span><span class=lnt> 594
</span><span class=lnt> 595
</span><span class=lnt> 596
</span><span class=lnt> 597
</span><span class=lnt> 598
</span><span class=lnt> 599
</span><span class=lnt> 600
</span><span class=lnt> 601
</span><span class=lnt> 602
</span><span class=lnt> 603
</span><span class=lnt> 604
</span><span class=lnt> 605
</span><span class=lnt> 606
</span><span class=lnt> 607
</span><span class=lnt> 608
</span><span class=lnt> 609
</span><span class=lnt> 610
</span><span class=lnt> 611
</span><span class=lnt> 612
</span><span class=lnt> 613
</span><span class=lnt> 614
</span><span class=lnt> 615
</span><span class=lnt> 616
</span><span class=lnt> 617
</span><span class=lnt> 618
</span><span class=lnt> 619
</span><span class=lnt> 620
</span><span class=lnt> 621
</span><span class=lnt> 622
</span><span class=lnt> 623
</span><span class=lnt> 624
</span><span class=lnt> 625
</span><span class=lnt> 626
</span><span class=lnt> 627
</span><span class=lnt> 628
</span><span class=lnt> 629
</span><span class=lnt> 630
</span><span class=lnt> 631
</span><span class=lnt> 632
</span><span class=lnt> 633
</span><span class=lnt> 634
</span><span class=lnt> 635
</span><span class=lnt> 636
</span><span class=lnt> 637
</span><span class=lnt> 638
</span><span class=lnt> 639
</span><span class=lnt> 640
</span><span class=lnt> 641
</span><span class=lnt> 642
</span><span class=lnt> 643
</span><span class=lnt> 644
</span><span class=lnt> 645
</span><span class=lnt> 646
</span><span class=lnt> 647
</span><span class=lnt> 648
</span><span class=lnt> 649
</span><span class=lnt> 650
</span><span class=lnt> 651
</span><span class=lnt> 652
</span><span class=lnt> 653
</span><span class=lnt> 654
</span><span class=lnt> 655
</span><span class=lnt> 656
</span><span class=lnt> 657
</span><span class=lnt> 658
</span><span class=lnt> 659
</span><span class=lnt> 660
</span><span class=lnt> 661
</span><span class=lnt> 662
</span><span class=lnt> 663
</span><span class=lnt> 664
</span><span class=lnt> 665
</span><span class=lnt> 666
</span><span class=lnt> 667
</span><span class=lnt> 668
</span><span class=lnt> 669
</span><span class=lnt> 670
</span><span class=lnt> 671
</span><span class=lnt> 672
</span><span class=lnt> 673
</span><span class=lnt> 674
</span><span class=lnt> 675
</span><span class=lnt> 676
</span><span class=lnt> 677
</span><span class=lnt> 678
</span><span class=lnt> 679
</span><span class=lnt> 680
</span><span class=lnt> 681
</span><span class=lnt> 682
</span><span class=lnt> 683
</span><span class=lnt> 684
</span><span class=lnt> 685
</span><span class=lnt> 686
</span><span class=lnt> 687
</span><span class=lnt> 688
</span><span class=lnt> 689
</span><span class=lnt> 690
</span><span class=lnt> 691
</span><span class=lnt> 692
</span><span class=lnt> 693
</span><span class=lnt> 694
</span><span class=lnt> 695
</span><span class=lnt> 696
</span><span class=lnt> 697
</span><span class=lnt> 698
</span><span class=lnt> 699
</span><span class=lnt> 700
</span><span class=lnt> 701
</span><span class=lnt> 702
</span><span class=lnt> 703
</span><span class=lnt> 704
</span><span class=lnt> 705
</span><span class=lnt> 706
</span><span class=lnt> 707
</span><span class=lnt> 708
</span><span class=lnt> 709
</span><span class=lnt> 710
</span><span class=lnt> 711
</span><span class=lnt> 712
</span><span class=lnt> 713
</span><span class=lnt> 714
</span><span class=lnt> 715
</span><span class=lnt> 716
</span><span class=lnt> 717
</span><span class=lnt> 718
</span><span class=lnt> 719
</span><span class=lnt> 720
</span><span class=lnt> 721
</span><span class=lnt> 722
</span><span class=lnt> 723
</span><span class=lnt> 724
</span><span class=lnt> 725
</span><span class=lnt> 726
</span><span class=lnt> 727
</span><span class=lnt> 728
</span><span class=lnt> 729
</span><span class=lnt> 730
</span><span class=lnt> 731
</span><span class=lnt> 732
</span><span class=lnt> 733
</span><span class=lnt> 734
</span><span class=lnt> 735
</span><span class=lnt> 736
</span><span class=lnt> 737
</span><span class=lnt> 738
</span><span class=lnt> 739
</span><span class=lnt> 740
</span><span class=lnt> 741
</span><span class=lnt> 742
</span><span class=lnt> 743
</span><span class=lnt> 744
</span><span class=lnt> 745
</span><span class=lnt> 746
</span><span class=lnt> 747
</span><span class=lnt> 748
</span><span class=lnt> 749
</span><span class=lnt> 750
</span><span class=lnt> 751
</span><span class=lnt> 752
</span><span class=lnt> 753
</span><span class=lnt> 754
</span><span class=lnt> 755
</span><span class=lnt> 756
</span><span class=lnt> 757
</span><span class=lnt> 758
</span><span class=lnt> 759
</span><span class=lnt> 760
</span><span class=lnt> 761
</span><span class=lnt> 762
</span><span class=lnt> 763
</span><span class=lnt> 764
</span><span class=lnt> 765
</span><span class=lnt> 766
</span><span class=lnt> 767
</span><span class=lnt> 768
</span><span class=lnt> 769
</span><span class=lnt> 770
</span><span class=lnt> 771
</span><span class=lnt> 772
</span><span class=lnt> 773
</span><span class=lnt> 774
</span><span class=lnt> 775
</span><span class=lnt> 776
</span><span class=lnt> 777
</span><span class=lnt> 778
</span><span class=lnt> 779
</span><span class=lnt> 780
</span><span class=lnt> 781
</span><span class=lnt> 782
</span><span class=lnt> 783
</span><span class=lnt> 784
</span><span class=lnt> 785
</span><span class=lnt> 786
</span><span class=lnt> 787
</span><span class=lnt> 788
</span><span class=lnt> 789
</span><span class=lnt> 790
</span><span class=lnt> 791
</span><span class=lnt> 792
</span><span class=lnt> 793
</span><span class=lnt> 794
</span><span class=lnt> 795
</span><span class=lnt> 796
</span><span class=lnt> 797
</span><span class=lnt> 798
</span><span class=lnt> 799
</span><span class=lnt> 800
</span><span class=lnt> 801
</span><span class=lnt> 802
</span><span class=lnt> 803
</span><span class=lnt> 804
</span><span class=lnt> 805
</span><span class=lnt> 806
</span><span class=lnt> 807
</span><span class=lnt> 808
</span><span class=lnt> 809
</span><span class=lnt> 810
</span><span class=lnt> 811
</span><span class=lnt> 812
</span><span class=lnt> 813
</span><span class=lnt> 814
</span><span class=lnt> 815
</span><span class=lnt> 816
</span><span class=lnt> 817
</span><span class=lnt> 818
</span><span class=lnt> 819
</span><span class=lnt> 820
</span><span class=lnt> 821
</span><span class=lnt> 822
</span><span class=lnt> 823
</span><span class=lnt> 824
</span><span class=lnt> 825
</span><span class=lnt> 826
</span><span class=lnt> 827
</span><span class=lnt> 828
</span><span class=lnt> 829
</span><span class=lnt> 830
</span><span class=lnt> 831
</span><span class=lnt> 832
</span><span class=lnt> 833
</span><span class=lnt> 834
</span><span class=lnt> 835
</span><span class=lnt> 836
</span><span class=lnt> 837
</span><span class=lnt> 838
</span><span class=lnt> 839
</span><span class=lnt> 840
</span><span class=lnt> 841
</span><span class=lnt> 842
</span><span class=lnt> 843
</span><span class=lnt> 844
</span><span class=lnt> 845
</span><span class=lnt> 846
</span><span class=lnt> 847
</span><span class=lnt> 848
</span><span class=lnt> 849
</span><span class=lnt> 850
</span><span class=lnt> 851
</span><span class=lnt> 852
</span><span class=lnt> 853
</span><span class=lnt> 854
</span><span class=lnt> 855
</span><span class=lnt> 856
</span><span class=lnt> 857
</span><span class=lnt> 858
</span><span class=lnt> 859
</span><span class=lnt> 860
</span><span class=lnt> 861
</span><span class=lnt> 862
</span><span class=lnt> 863
</span><span class=lnt> 864
</span><span class=lnt> 865
</span><span class=lnt> 866
</span><span class=lnt> 867
</span><span class=lnt> 868
</span><span class=lnt> 869
</span><span class=lnt> 870
</span><span class=lnt> 871
</span><span class=lnt> 872
</span><span class=lnt> 873
</span><span class=lnt> 874
</span><span class=lnt> 875
</span><span class=lnt> 876
</span><span class=lnt> 877
</span><span class=lnt> 878
</span><span class=lnt> 879
</span><span class=lnt> 880
</span><span class=lnt> 881
</span><span class=lnt> 882
</span><span class=lnt> 883
</span><span class=lnt> 884
</span><span class=lnt> 885
</span><span class=lnt> 886
</span><span class=lnt> 887
</span><span class=lnt> 888
</span><span class=lnt> 889
</span><span class=lnt> 890
</span><span class=lnt> 891
</span><span class=lnt> 892
</span><span class=lnt> 893
</span><span class=lnt> 894
</span><span class=lnt> 895
</span><span class=lnt> 896
</span><span class=lnt> 897
</span><span class=lnt> 898
</span><span class=lnt> 899
</span><span class=lnt> 900
</span><span class=lnt> 901
</span><span class=lnt> 902
</span><span class=lnt> 903
</span><span class=lnt> 904
</span><span class=lnt> 905
</span><span class=lnt> 906
</span><span class=lnt> 907
</span><span class=lnt> 908
</span><span class=lnt> 909
</span><span class=lnt> 910
</span><span class=lnt> 911
</span><span class=lnt> 912
</span><span class=lnt> 913
</span><span class=lnt> 914
</span><span class=lnt> 915
</span><span class=lnt> 916
</span><span class=lnt> 917
</span><span class=lnt> 918
</span><span class=lnt> 919
</span><span class=lnt> 920
</span><span class=lnt> 921
</span><span class=lnt> 922
</span><span class=lnt> 923
</span><span class=lnt> 924
</span><span class=lnt> 925
</span><span class=lnt> 926
</span><span class=lnt> 927
</span><span class=lnt> 928
</span><span class=lnt> 929
</span><span class=lnt> 930
</span><span class=lnt> 931
</span><span class=lnt> 932
</span><span class=lnt> 933
</span><span class=lnt> 934
</span><span class=lnt> 935
</span><span class=lnt> 936
</span><span class=lnt> 937
</span><span class=lnt> 938
</span><span class=lnt> 939
</span><span class=lnt> 940
</span><span class=lnt> 941
</span><span class=lnt> 942
</span><span class=lnt> 943
</span><span class=lnt> 944
</span><span class=lnt> 945
</span><span class=lnt> 946
</span><span class=lnt> 947
</span><span class=lnt> 948
</span><span class=lnt> 949
</span><span class=lnt> 950
</span><span class=lnt> 951
</span><span class=lnt> 952
</span><span class=lnt> 953
</span><span class=lnt> 954
</span><span class=lnt> 955
</span><span class=lnt> 956
</span><span class=lnt> 957
</span><span class=lnt> 958
</span><span class=lnt> 959
</span><span class=lnt> 960
</span><span class=lnt> 961
</span><span class=lnt> 962
</span><span class=lnt> 963
</span><span class=lnt> 964
</span><span class=lnt> 965
</span><span class=lnt> 966
</span><span class=lnt> 967
</span><span class=lnt> 968
</span><span class=lnt> 969
</span><span class=lnt> 970
</span><span class=lnt> 971
</span><span class=lnt> 972
</span><span class=lnt> 973
</span><span class=lnt> 974
</span><span class=lnt> 975
</span><span class=lnt> 976
</span><span class=lnt> 977
</span><span class=lnt> 978
</span><span class=lnt> 979
</span><span class=lnt> 980
</span><span class=lnt> 981
</span><span class=lnt> 982
</span><span class=lnt> 983
</span><span class=lnt> 984
</span><span class=lnt> 985
</span><span class=lnt> 986
</span><span class=lnt> 987
</span><span class=lnt> 988
</span><span class=lnt> 989
</span><span class=lnt> 990
</span><span class=lnt> 991
</span><span class=lnt> 992
</span><span class=lnt> 993
</span><span class=lnt> 994
</span><span class=lnt> 995
</span><span class=lnt> 996
</span><span class=lnt> 997
</span><span class=lnt> 998
</span><span class=lnt> 999
</span><span class=lnt>1000
</span><span class=lnt>1001
</span><span class=lnt>1002
</span><span class=lnt>1003
</span><span class=lnt>1004
</span><span class=lnt>1005
</span><span class=lnt>1006
</span><span class=lnt>1007
</span><span class=lnt>1008
</span><span class=lnt>1009
</span><span class=lnt>1010
</span><span class=lnt>1011
</span><span class=lnt>1012
</span><span class=lnt>1013
</span><span class=lnt>1014
</span><span class=lnt>1015
</span><span class=lnt>1016
</span><span class=lnt>1017
</span><span class=lnt>1018
</span><span class=lnt>1019
</span><span class=lnt>1020
</span><span class=lnt>1021
</span><span class=lnt>1022
</span><span class=lnt>1023
</span><span class=lnt>1024
</span><span class=lnt>1025
</span><span class=lnt>1026
</span><span class=lnt>1027
</span><span class=lnt>1028
</span><span class=lnt>1029
</span><span class=lnt>1030
</span><span class=lnt>1031
</span><span class=lnt>1032
</span><span class=lnt>1033
</span><span class=lnt>1034
</span><span class=lnt>1035
</span><span class=lnt>1036
</span><span class=lnt>1037
</span><span class=lnt>1038
</span><span class=lnt>1039
</span><span class=lnt>1040
</span><span class=lnt>1041
</span><span class=lnt>1042
</span><span class=lnt>1043
</span><span class=lnt>1044
</span><span class=lnt>1045
</span><span class=lnt>1046
</span><span class=lnt>1047
</span><span class=lnt>1048
</span><span class=lnt>1049
</span><span class=lnt>1050
</span><span class=lnt>1051
</span><span class=lnt>1052
</span><span class=lnt>1053
</span><span class=lnt>1054
</span><span class=lnt>1055
</span><span class=lnt>1056
</span><span class=lnt>1057
</span><span class=lnt>1058
</span><span class=lnt>1059
</span><span class=lnt>1060
</span><span class=lnt>1061
</span><span class=lnt>1062
</span><span class=lnt>1063
</span><span class=lnt>1064
</span><span class=lnt>1065
</span><span class=lnt>1066
</span><span class=lnt>1067
</span><span class=lnt>1068
</span><span class=lnt>1069
</span><span class=lnt>1070
</span><span class=lnt>1071
</span><span class=lnt>1072
</span><span class=lnt>1073
</span><span class=lnt>1074
</span><span class=lnt>1075
</span><span class=lnt>1076
</span><span class=lnt>1077
</span><span class=lnt>1078
</span><span class=lnt>1079
</span><span class=lnt>1080
</span><span class=lnt>1081
</span><span class=lnt>1082
</span><span class=lnt>1083
</span><span class=lnt>1084
</span><span class=lnt>1085
</span><span class=lnt>1086
</span><span class=lnt>1087
</span><span class=lnt>1088
</span><span class=lnt>1089
</span><span class=lnt>1090
</span><span class=lnt>1091
</span><span class=lnt>1092
</span><span class=lnt>1093
</span><span class=lnt>1094
</span><span class=lnt>1095
</span><span class=lnt>1096
</span><span class=lnt>1097
</span><span class=lnt>1098
</span><span class=lnt>1099
</span><span class=lnt>1100
</span><span class=lnt>1101
</span><span class=lnt>1102
</span><span class=lnt>1103
</span><span class=lnt>1104
</span><span class=lnt>1105
</span><span class=lnt>1106
</span><span class=lnt>1107
</span><span class=lnt>1108
</span><span class=lnt>1109
</span><span class=lnt>1110
</span><span class=lnt>1111
</span><span class=lnt>1112
</span><span class=lnt>1113
</span><span class=lnt>1114
</span><span class=lnt>1115
</span><span class=lnt>1116
</span><span class=lnt>1117
</span><span class=lnt>1118
</span><span class=lnt>1119
</span><span class=lnt>1120
</span><span class=lnt>1121
</span><span class=lnt>1122
</span><span class=lnt>1123
</span><span class=lnt>1124
</span><span class=lnt>1125
</span><span class=lnt>1126
</span><span class=lnt>1127
</span><span class=lnt>1128
</span><span class=lnt>1129
</span><span class=lnt>1130
</span><span class=lnt>1131
</span><span class=lnt>1132
</span><span class=lnt>1133
</span><span class=lnt>1134
</span><span class=lnt>1135
</span><span class=lnt>1136
</span><span class=lnt>1137
</span><span class=lnt>1138
</span><span class=lnt>1139
</span><span class=lnt>1140
</span><span class=lnt>1141
</span><span class=lnt>1142
</span><span class=lnt>1143
</span><span class=lnt>1144
</span><span class=lnt>1145
</span><span class=lnt>1146
</span><span class=lnt>1147
</span><span class=lnt>1148
</span><span class=lnt>1149
</span><span class=lnt>1150
</span><span class=lnt>1151
</span><span class=lnt>1152
</span><span class=lnt>1153
</span><span class=lnt>1154
</span><span class=lnt>1155
</span><span class=lnt>1156
</span><span class=lnt>1157
</span><span class=lnt>1158
</span><span class=lnt>1159
</span><span class=lnt>1160
</span><span class=lnt>1161
</span><span class=lnt>1162
</span><span class=lnt>1163
</span><span class=lnt>1164
</span><span class=lnt>1165
</span><span class=lnt>1166
</span><span class=lnt>1167
</span><span class=lnt>1168
</span><span class=lnt>1169
</span><span class=lnt>1170
</span><span class=lnt>1171
</span><span class=lnt>1172
</span><span class=lnt>1173
</span><span class=lnt>1174
</span><span class=lnt>1175
</span><span class=lnt>1176
</span><span class=lnt>1177
</span><span class=lnt>1178
</span><span class=lnt>1179
</span><span class=lnt>1180
</span><span class=lnt>1181
</span><span class=lnt>1182
</span><span class=lnt>1183
</span><span class=lnt>1184
</span><span class=lnt>1185
</span><span class=lnt>1186
</span><span class=lnt>1187
</span><span class=lnt>1188
</span><span class=lnt>1189
</span><span class=lnt>1190
</span><span class=lnt>1191
</span><span class=lnt>1192
</span><span class=lnt>1193
</span><span class=lnt>1194
</span><span class=lnt>1195
</span><span class=lnt>1196
</span><span class=lnt>1197
</span><span class=lnt>1198
</span><span class=lnt>1199
</span><span class=lnt>1200
</span><span class=lnt>1201
</span><span class=lnt>1202
</span><span class=lnt>1203
</span><span class=lnt>1204
</span><span class=lnt>1205
</span><span class=lnt>1206
</span><span class=lnt>1207
</span><span class=lnt>1208
</span><span class=lnt>1209
</span><span class=lnt>1210
</span><span class=lnt>1211
</span><span class=lnt>1212
</span><span class=lnt>1213
</span><span class=lnt>1214
</span><span class=lnt>1215
</span><span class=lnt>1216
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml><span class=w>
</span><span class=w></span><span class=nn>---</span><span class=w>
</span><span class=w></span><span class=nt>local_release_dir</span><span class=p>:</span><span class=w> </span><span class=l>/tmp/releases</span><span class=w>
</span><span class=w></span><span class=nt>download_cache_dir</span><span class=p>:</span><span class=w> </span><span class=l>/tmp/kubespray_cache</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># do not delete remote cache files after using them</span><span class=w>
</span><span class=w></span><span class=c># NOTE: Setting this parameter to TRUE is only really useful when developing kubespray</span><span class=w>
</span><span class=w></span><span class=nt>download_keep_remote_cache</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Only useful when download_run_once is false: Localy cached files and images are</span><span class=w>
</span><span class=w></span><span class=c># uploaded to kubernetes nodes. Also, images downloaded on those nodes are copied</span><span class=w>
</span><span class=w></span><span class=c># back to the ansible runner&#39;s cache, if they are not yet preset.</span><span class=w>
</span><span class=w></span><span class=nt>download_force_cache</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Used to only evaluate vars from download role</span><span class=w>
</span><span class=w></span><span class=nt>skip_downloads</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Optionally skip kubeadm images download</span><span class=w>
</span><span class=w></span><span class=c>#skip_kubeadm_images: false</span><span class=w>
</span><span class=w></span><span class=nt>skip_kubeadm_images</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w></span><span class=nt>kubeadm_images</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># if this is set to true will only download files once. Doesn&#39;t work</span><span class=w>
</span><span class=w></span><span class=c># on Flatcar Container Linux by Kinvolk unless the download_localhost is true and localhost</span><span class=w>
</span><span class=w></span><span class=c># is running another OS type. Default compress level is 1 (fastest).</span><span class=w>
</span><span class=w></span><span class=nt>download_run_once</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w></span><span class=nt>download_compress</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># if this is set to true will download container</span><span class=w>
</span><span class=w></span><span class=nt>download_container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># if this is set to true, uses the localhost for download_run_once mode</span><span class=w>
</span><span class=w></span><span class=c># (requires docker and sudo to access docker). You may want this option for</span><span class=w>
</span><span class=w></span><span class=c># local caching of docker images or for Flatcar Container Linux by Kinvolk cluster nodes.</span><span class=w>
</span><span class=w></span><span class=c># Otherwise, uses the first node in the kube-master group to store images</span><span class=w>
</span><span class=w></span><span class=c># in the download_run_once mode.</span><span class=w>
</span><span class=w></span><span class=nt>download_localhost</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Always pull images if set to True. Otherwise check by the repo&#39;s tag/digest.</span><span class=w>
</span><span class=w></span><span class=nt>download_always_pull</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Some problems may occur when downloading files over https proxy due to ansible bug</span><span class=w>
</span><span class=w></span><span class=c># https://github.com/ansible/ansible/issues/32750. Set this variable to False to disable</span><span class=w>
</span><span class=w></span><span class=c># SSL validation of get_url module. Note that kubespray will still be performing checksum validation.</span><span class=w>
</span><span class=w></span><span class=nt>download_validate_certs</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Use the first kube-master if download_localhost is not set</span><span class=w>
</span><span class=w></span><span class=nt>download_delegate</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{% if download_localhost %}localhost{% else %}{{ groups[&#39;kube-master&#39;][0] }}{% endif %}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Arch of Docker images and needed packages</span><span class=w>
</span><span class=w></span><span class=nt>image_arch</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{host_architecture | default(&#39;amd64&#39;)}}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Versions</span><span class=w>
</span><span class=w></span><span class=c># add by wangb</span><span class=w>
</span><span class=w></span><span class=c>#kube_version: v1.18.10</span><span class=w>
</span><span class=w></span><span class=nt>kube_version</span><span class=p>:</span><span class=w> </span><span class=l>v1.20.1</span><span class=w>
</span><span class=w></span><span class=nt>kubeadm_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=c># add by wangb</span><span class=w>
</span><span class=w></span><span class=c>#etcd_version: v3.4.3</span><span class=w>
</span><span class=w></span><span class=nt>etcd_version</span><span class=p>:</span><span class=w> </span><span class=l>v3.4.13</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># gcr and kubernetes image repo define</span><span class=w>
</span><span class=w></span><span class=nt>gcr_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;gcr.io&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kube_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;k8s.gcr.io&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># docker image repo define</span><span class=w>
</span><span class=w></span><span class=nt>docker_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;docker.io&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># quay image repo define</span><span class=w>
</span><span class=w></span><span class=nt>quay_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;quay.io&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># TODO(mattymo): Move calico versions to roles/network_plugins/calico/defaults</span><span class=w>
</span><span class=w></span><span class=c># after migration to container download</span><span class=w>
</span><span class=w></span><span class=nt>calico_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v3.15.2&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_ctl_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_cni_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_policy_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_typha_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>typha_enabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>flannel_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.12.0&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>cni_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.8.7&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>weave_version</span><span class=p>:</span><span class=w> </span><span class=m>2.7.0</span><span class=w>
</span><span class=w></span><span class=nt>pod_infra_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3.2&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_version</span><span class=p>:</span><span class=w> </span><span class=m>1.2.1</span><span class=w>
</span><span class=w></span><span class=nt>cilium_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.8.3&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kube_ovn_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.3.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kube_router_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.0.1&#34;</span><span class=w>
</span><span class=w></span><span class=nt>multus_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v3.6&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ovn4nfv_ovn_image_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.0.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ovn4nfv_k8s_plugin_image_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.1.0&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Get kubernetes major version (i.e. 1.17.4 =&gt; 1.17)</span><span class=w>
</span><span class=w></span><span class=nt>kube_major_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_version | regex_replace(&#39;^v([0-9])+\\.([0-9]+)\\.[0-9]+&#39;, &#39;v\\1.\\2&#39;) }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>crictl_supported_versions</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=c># add by wangb</span><span class=w>
</span><span class=w>  </span><span class=nt>v1.20</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.20.1&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>v1.19</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.19.0&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>v1.18</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.18.0&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>v1.17</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.17.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>crictl_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ crictl_supported_versions[kube_major_version] }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Download URLs</span><span class=w>
</span><span class=w></span><span class=c>#kubelet_download_url: &#34;https://storage.googleapis.com/kubernetes-release/release/{{ kube_version }}/bin/linux/{{ image_arch }}/kubelet&#34;</span><span class=w>
</span><span class=w></span><span class=c>#kubectl_download_url: &#34;https://storage.googleapis.com/kubernetes-release/release/{{ kube_version }}/bin/linux/{{ image_arch }}/kubectl&#34;</span><span class=w>
</span><span class=w></span><span class=c>#kubeadm_download_url: &#34;https://storage.googleapis.com/kubernetes-release/release/{{ kubeadm_version }}/bin/linux/{{ image_arch }}/kubeadm&#34;</span><span class=w>
</span><span class=w></span><span class=c>#etcd_download_url: &#34;https://github.com/coreos/etcd/releases/download/{{ etcd_version }}/etcd-{{ etcd_version }}-linux-{{ image_arch }}.tar.gz&#34;</span><span class=w>
</span><span class=w></span><span class=c>#cni_download_url: &#34;https://github.com/containernetworking/plugins/releases/download/{{ cni_version }}/cni-plugins-linux-{{ image_arch }}-{{ cni_version }}.tgz&#34;</span><span class=w>
</span><span class=w></span><span class=c>#calicoctl_download_url: &#34;https://github.com/projectcalico/calicoctl/releases/download/{{ calico_ctl_version }}/calicoctl-linux-{{ image_arch }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#crictl_download_url: &#34;https://github.com/kubernetes-sigs/cri-tools/releases/download/{{ crictl_version }}/crictl-{{ crictl_version }}-{{ ansible_system | lower }}-{{ image_arch }}.tar.gz&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># add by wangb start</span><span class=w>
</span><span class=w></span><span class=c>#kubelet_download_url: &#34;http://192.168.182.131:8989/files/kubernetes/v1.20.1/kubelet&#34;</span><span class=w>
</span><span class=w></span><span class=c>#kubectl_download_url: &#34;http://192.168.182.131:8989/files/kubernetes/v1.20.1/kubectl&#34;</span><span class=w>
</span><span class=w></span><span class=c>#kubeadm_download_url: &#34;http://192.168.182.131:8989/files/kubernetes/v1.20.1/kubeadm&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>kubelet_download_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://10.151.11.61:8989/files/kubernetes/v1.20.1/kubelet&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kubectl_download_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://10.151.11.61:8989/files/kubernetes/v1.20.1/kubectl&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kubeadm_download_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://10.151.11.61:8989/files/kubernetes/v1.20.1/kubeadm&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>etcd_download_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://github.com/coreos/etcd/releases/download/{{ etcd_version }}/etcd-{{ etcd_version }}-linux-{{ image_arch }}.tar.gz&#34;</span><span class=w>
</span><span class=w></span><span class=c>#cni_download_url: &#34;http://192.168.182.131:8989/files/kubernetes/v1.20.1/cni-plugins-linux-{{ image_arch }}-{{ cni_version }}.tgz&#34;</span><span class=w>
</span><span class=w></span><span class=c>#calicoctl_download_url: &#34;http://192.168.182.131:8989/files/kubernetes/v1.20.1/calicoctl-linux-{{ image_arch }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cni_download_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://10.151.11.61:8989/files/kubernetes/v1.20.1/cni-plugins-linux-{{ image_arch }}-{{ cni_version }}.tgz&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calicoctl_download_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://10.151.11.61:8989/files/kubernetes/v1.20.1/calicoctl-linux-{{ image_arch }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>crictl_download_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://github.com/kubernetes-sigs/cri-tools/releases/download/{{ crictl_version }}/crictl-{{ crictl_version }}-{{ ansible_system | lower }}-{{ image_arch }}.tar.gz&#34;</span><span class=w>
</span><span class=w></span><span class=c># add by wangb end</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>crictl_checksums</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>arm</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>b72fd3c4b35f60f5db2cfcd8e932f6000cf9c2978b54adfcf60ee5e2d452e92f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>d420925d10b47a234b7e51e9cf1039c3c09f2703945a99435549fcdd7487ae3a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>9700957218e8e7bdc02cbc8fda4c189f5b6223a93ba89d876bdfd77b6117e9b7</span><span class=w>
</span><span class=w>  </span><span class=nt>arm64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>ec040d14ca03e8e4e504a85dae5353e04b5d9d8aea3df68699258992c0eb8d88</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>95ba32c47ad690b1e3e24f60255273dd7d176e62b1a0b482e5b44a7c31639979</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>d89afd89c2852509fafeaff6534d456272360fcee732a8d0cb89476377387e12</span><span class=w>
</span><span class=w>  </span><span class=nt>amd64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>87d8ef70b61f2fe3d8b4a48f6f712fd798c6e293ed3723c1e4bbb5052098f0ae</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>876dd2b3d0d1c2590371f940fb1bf1fbd5f15aebfbe456703ee465d959700f4a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>7b72073797f638f099ed19550d52e9b9067672523fc51b746e65d7aa0bafa414</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Checksums</span><span class=w>
</span><span class=w></span><span class=nt>kubelet_checksums</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>arm</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>3c0214d2d583440233b6bd0088614fe4fb5748e5b153f2ec96d72d3f8165e214</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>631e686c34911a40a798817dcff89532c88bb649885f93ec66b339e227ebd974</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>3985c8d02c1c2f2016fceccd9cc14865e2d047f32c8f0b42aeedcc8450de572e</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>bb433ef7981297bdee6ffc4e23376e8db24a0e47321ebe94bf9d4b9f7a2f0e3b</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>716b8a1971d2f96b28f31a65e6769e2ce60979703d143a67d340c7ce16137db5</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>24f7559fe5214b5f3b625ab035e29159441e6cfd248befbeb78b63e660fccd23</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>831f50ea45384884c50395c288d493e75dd134a962dc95261ce122de5e6a17ec</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>5f8367f9f5de77c022ec5d0cd86e897b7a33318185eaadb7736033d8dabcdbdb</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>9f8ab727964c6f42f1c17089bf2f7b4b2f2a5c61ffab3bad16eb02d9feb05855</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>796defe5f8b43a5316a487a377b4059df12b9b3c933f3fe4dff40e8144a11af6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>491344027cbec40bc867a79c7130c27c143648544b5dfe4a28929cf26427dc3b</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>b7b9c43851dde9cbaa2061828410c60ee63e53fbf3ebc5559b7f4387dae67bb9</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>04d8e0a080dcb23d579c69e769e75bd5abaa1977d43550ec891560d76f1f7f37</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>985c1a1b492ccc6e46e1cd454790dae539d5b93208efb05e35114f66a183de99</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>f98d4eaf65c65bce55479b1435baa032944856c098ccf8038a8aca318c530f24</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>2b6160f5c15b1294573e37031ce0bcbbcd3ee3ea055f4f8fe4faf3ab74774f40</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>53784f9bea1508b6d82f8be6f40af2e6aef86381021b500c1647f9d297af3efd</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>37fc89360f4dcff4788032e60fe6388da4194a68503992868261ba840413e8d4</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>82320569bc9deff33d148c759a105f1a32de3d83855165100261a4ad395d1845</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>3b368039523357959e451a35867b5659701e135ca2069cb9487c7459084c46d9</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>e522cda9b86de29da72fd306968e1ba44cb85b61a743083f8fee39899a755210</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>d1eb5b7a3a88030490f1619f2e7d723926214ba941e2172112bccb71f41d9aab</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>c8c4d1b869c72b4203024615cafae1cca7df2fb89dd7f4a524d05ffa5edde559</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>06fe53b9780e4fa17b5e14f588bbaaa09fc0924ef4040e26a484fa3235c9e110</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>9a2ab021f8556fabcb00022052810b3d8136704141891439de1340ac9e439d6d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>0219c940bad3238dfbdf8e4518241d861bbdd8fc93d172cc632c225d7dd57094</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>75ae6ad8f4a7f2ac3988b37a01c28093f240745d17c1781135d1844057c8ae94</span><span class=w>
</span><span class=w>  </span><span class=nt>arm64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>228695df98c5cb8a5f64d1235021f54a482a8e63f5b9b1b2addfc95df9b671ee</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>86b9336aa7f6215e6f9b387bb82105657668aa8a38b0e0f7c2e647ef45c1b723</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>143bed1f04cba4e6749a72abf9258d19f31e1a310f94bd041cd30ce62a1f73ff</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>d8fa5a9739ecc387dfcc55afa91ac6f4b0ccd01f1423c423dbd312d787bbb6bf</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>1490550560b9afcb6e74d5bd69d61ae60dabe466e05e0408da48f17b4ccd91b4</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>21b0fb4682deea19be3ac160403db9858dc9d02b101d60eb6fc22a86523ec434</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>d36e2d656bad232e8b48b19c948164ee3966669f4566cf5ea43ca22f6eed1aa5</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>257fd42be375025fb93724bda9bef23b73eb40531f22bab9e19f6d6ff1ca57cf</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>c3815bc740755aa9fd3ec240ad808a13628a4deb6ec2b4338e772fd0cf77e1a2</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>ec4e18e7a2e94fb1ca83d739eadb8d81748cf6a48b87b8fe0d66131e9515e8c6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>f88deee2052b4d1e3a15fd7352b93728c23d69497a4199a56e62fa871bdf7edb</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>89b5066ae17df8488c76a83c70cbcac0771fa36803e31b826f2770b5efcdbfbf</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>2181cde9e6b24055d262b78758b365363273896968df673eb13d4f17a4f69c4a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>db91a26f8baa2bce017172305e717e77be5cfc4272592be8cb0155e1cfa7719e</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>e9396034d079d3574370faf47eba78055cf8fb897093929e796f571cf2f91cd6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>bfd5ff97040a2f1017bc14991757ba62ad8c8218d75a5f646690c1e76f93bf22</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>0d9705c284054b2fdb7627d4867edd0863f67a2fbf64a2e1710d928936539c89</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>d57c25a3d67c937a9d6778de07295478185f73938937868525030a01d15c372f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>673355f62aa422915682ae595e4e53813e4656f2c272eb032f97492211cfced5</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>eb1715a745281f6aee34644653f73787acdd9f3904e3d58e1319ded4a16be013</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>6ded412f13e5d8bd0368372150334580a05cd4dc7629f437c789a5aa6008e8e5</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>9220a7390d9c5cb5c770d947babdec288d044126b9982bbd5d5c8785354a6701</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>77ca08cd3d03edda8d628e39a8cb45afe794582a9619d381ec5a70585999721a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>eeefd2f966dfb75ab4ab58829118f9bb314b75799a94d21c2ce8d083cc330dbc</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>133b69346da8e34daaf20f421657625a06630ec1e11f06961523836383cea72c</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>c773512ade5da3188ed4c312d5ba01bfbf3f376f6e580e5b074827a5b25450aa</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>b1a4a2325383854a69ec768e7dc00f69378d3ccbc554859d910bf5b582264ea2</span><span class=w>
</span><span class=w>  </span><span class=nt>amd64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>daa02a34efd936bf9940d9c52fe24c299fc36ba4b31a051968efb3652f289fa9</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>7ff6d3663e8de0c654909e7a279e386286aa7ed3fc262d021bed77c92d62780f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>2ca2a3104d4cce26db128e3a0b7a042385df4f2c51bdbe740e067fdfaa2fcdd1</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>3f03e5c160a8b658d30b34824a1c00abadbac96e62c4d01bf5c9271a2debc3ab</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>8daecd339993342c0693b6cb8a8e053d4a21d2d829389cc7ab823f52ea0589a1</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>5028b6548e8838e1e0851f10e8bd8d9a6ef1693e3f1dac09f7d50c4c2873f20b</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>a4116675ac52bf80e224fba8ff6db6f2d7aed192bf6fffd5f8e4d5efb4368f31</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>2eb9baf5a65a7b94c653dbd7af03a768a520961eb27ef369e43ef12711e22d4a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>8c328f65d30f0edd0fd4f529b09d6fc588cfb7b524d5c9f181e36de6e494e19c</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>42bcd6a8fe1abeab12cbe9be0f16d4a7b15017937a5de66eb67a38073de7eb72</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>6aac8853028a4f185de5ccb5b41b3fbd87726161445dee56f351e3e51442d669</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>bc13d29b58300c328f0078c7f72e37e1254c4303277348862af1e7f2b356b9e3</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>4c5737235e62a5bb0b5d3f51939ccd255ebda376d75941222b25241251b67fbc</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>3a90e7abf9910aebf9ef5845918c665afd4136a8832604ccfabca2defb35ce0f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>e71c3ce50f93abc2735ba601781355d86a49aec992e8cb235a369254c304fa7d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>196263deb2605507ff137b3edea39a914e7047f4c4de0a681c4a6f8dcfa5fe65</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>71bcc8443a6e6f226727ea007fdc4b96327e302d1724a15ce2bffc2d94a3dac6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>3b6cdfcd38a646c7b553821ef9bb67e93541da658305c00705e6ab2ba15e73af</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>b39081fb40332ae12d262b04dc81630e5c6550fb196f09b60f3d726283dff17f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>a6b66c94a37dd6ae830a9af5b9200884a2c0af868096a3c2553b2e876723c2a2</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>4b7fd5123bfafe2249bf91ed83469c2655a8d3295966e5fbd952f89b64b75f57</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>c5fbfa83444bdeefb51934c29f0b4b7ffc43ce5a98d7f957d8a11e3440055383</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>f3a427ddf610b568db60c8d47565041901220e1bbe257614b61bb4c76801d765</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>a5c2349c61771f8bf9f80feb174f7e9d9a6c9e79559758ea538ed3dead07bdcb</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>33c6befab43ace4c4e89eab9c45d0cea5432f3cea4beaa956c786fe521f844bb</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>ffd04d1934c193fa63b3fc7d285d3646ed215f07f726390eefb0913b810716c3</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>c2af77f501c3164e80171903028d35c632366f53dec0c8419828d4e55d86146f</span><span class=w>
</span><span class=w></span><span class=nt>kubectl_checksums</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>arm</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>fb611ff64139bc8712fe93497f2419c236d62c5f689e1cb4cc68037fda698f82</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>c8cad74a586dfee41436ce866c91d79c9d2053468eccde9fed976cdf32b7849f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>e63bbf3161c49d60e46ffaf7d3cfd689834516205be1be881d2e652115535e93</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>5885bb723a55ab95e8687e0ad52620ce4c08f76fd20c0973f5cd19c753b513c8</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>3d5b7cb1c54d5e9dec157a512d2d21dddc6b9fd5b9a0b8df9493553871d21668</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>8f49ade7875aaca82f7471901963796815b786d5437e6af0ae4d6d784dc92c08</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>21769e01e17f3809d0e9188a88a71fb1f479dfeeb22590e56006d5dbb3689605</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>1b6668bae432a3c6034f2fe83e72b2db5ea794a02121cf0a22be7f4bd8f460bf</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>5fc8dc6e3d09ceaf900dd06b9af3a7abb291293cea5219aea577bad852aa84b1</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>9617b1a929aad7e3bf9f1151f83548e5e3f89175f5d3f961733b8b0ec2e376c4</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>1816364467b98e7ae52731f593780f392d6835d33db5b12a671abfffb72a4eac</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>353d61297cfbf01ed3f72b7df1658110c065355d670556ea3bdbf0d1b2824aea</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>896c90b1b9d88e121876d93718591f3ecbab880b304767806c6c9fcb3b145805</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>34fc6d16c2f535ed381b5fd3a4d40b642fff4f9ff95f8250b8043a29b8c062b9</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>1053624c88881d1fe9d8f2adbb07831fc23c829127b8466da9b15cc122004344</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>e3bfbb4a82183c094a6538ffe4e837856cb3849ed1348d23830f0945852a81e4</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>e8178745c3010a57de068138e63bf19087ca4f83acfdc1df82f7844ce73cf3be</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>4bcad42cb8721bcb636f88e02f143fa9e2ad8141a37025f7622bd04516dab391</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>e1a75ee55e1270583143422cc611547623aeef2c69689354c69b0b8f445cf6ba</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>1b862c79333b7edee64f0317f8c5de8699f99b00709734e3341d41cca3b8f29b</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>2ad9897b84dd503c963ff790ce092aeb4c8e78ac64b7986a6c6ed1c601255419</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>470139a2ca98a85ab89210d07dc733d457d48a8419bbf038ee7e55276e2b5c35</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>bec3f4163231d4df62ef75b1e435f646b576bfeff08a5e635a033c8223fb4c52</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>740e17e7fa2b6aed243e690cdb939f040aefe644a485429ed42b2b1fa7eac813</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>152e5b5e1a744ad8e4860bef212462750e0a38856990d6a4d0b3418bedb5346f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>a1e580e9140536c4a370c207ee66481cfe8d8876dc9021755a9d20232a97033d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>594b3e2f89dca09d82b176b51bf6c8c0fa524ed209c14ec915c9b36fa876601d</span><span class=w>
</span><span class=w>  </span><span class=nt>arm64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>a4f2e2dbdcead30eed5aa47468e669b9574fd99457b860679eba84e1cb9cf863</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>a460f918c03e5cd916f4ac28da137596232e344cc0755d4ceb222fc4cd203e09</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>332bbdb4560f9b7fcbb96c8f2cebbc4996e409384ca07510e5c5990998158c20</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>d4adf1b6b97252025cb2f7febf55daa3f42dc305822e3da133f77fd33071ec2f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>394fa475f7688778eeeecb31e01acfae4cc37a72926d9bf33290c968e6dc037a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>9f466ff8d40097914a1ded0288ef8b9eb6f4ad39a9990cb2c0f8d1a710013a4f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>9046c4086528427462544e1a6dcbe709de4d7ae44d1a155375de330fecd067b1</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>7b3d6cc019747a7ee5f6cc2b187423daaac4e153140cb290e60d316c3f456430</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>28c1edb2d76f80e70e10fa8cd2a30b9fccc5f003d8b3e853535d8317db7f424a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>61c5004f6e9040163bc09459a11fd17b0f9ff55d7ba8f9b1e89368b5f2cdf072</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>fc4479d1f7e58e6c8f40430a35f6b09b6f582909f69968e424fc20640ac45daf</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>8d4bd6a716e32187e03c5998b4d9570f3b2eb9fb041ac9ed6e9728f04935c2fb</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>39e9645c6bed1e7340b3d764db983b9fc35326b11325fd509c3660c9f55469ed</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>0de307f90502cd58e5785cdcbebeb552df81fa2399190f8a662afea9e30bc74d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>9d62bb6f21a64fd464237b7c81e45075e2ce0a83b6e13c54a6539c076f3b536f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>22f383cef1a429cab5d4c98df6704295722044613dbea49c306e931d383d723f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>8eb18f37148d2786205bc70dded66c173df7517577e5ae024a19e72400263ed2</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>4d818e97073113eb1e62bf97d63876757be0f273c47807c09f34511155e25afd</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>4dfd36dbd637b8dca9a7c4e789fb3fe4ca420062c90d3a872ae751dfb9777cb6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>00c71ceffa9b50af081d2838b102be49ca224a8aa928f5c948b804af84c58818</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>ceccf6ef3e0ac523cb75d46d1b4979ae1f8cf199926244a9d828cb77f024e46b</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>160d1198a6da3eb082e197e368ba86c2acce435e073e9f3ee271aa59c7fb47d6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>95867f3c977b1f754223b95dbb04a9ff45613529e9e4691ffa45c6b214f9fd4f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>d007a212240fef9fee30c59b4d4203bbc463d334f679c4d0d1af521b7e2c42e6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>29c36d5866a76ca693a255567ac26d7558c1f02e6b840895093e47afe06594d9</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>4208be10e2c12b67e71219cd39b0b2ab065d4ec1b26e19c5da88cb8ebc64ea2f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>cba12bfe0ee447b06f00813d7d4ba3fbdbf5116eccc4d3291987044f2d6f93c2</span><span class=w>
</span><span class=w>  </span><span class=nt>amd64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>84eeb8237448e4f431fef0f0ec0ba8b07558d8e52d5a7e89b4ae64dadcffbe66</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>f51adfe7968ee173dbfb3dabfc10dc774983cbf8a3a7c1c75a1423b91fda6821</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>da4de99d4e713ba0c0a5ef6efe1806fb09c41937968ad9da5c5f74b79b3b38f5</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>79bb0d2f05487ff533999a639c075043c70a0a1ba25c1629eb1eef6ebe3ba70f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>b25c445cb36ab168de590c13b50bced4e7877ed15ca899a261053b4ba3ba1456</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>6a68756a2d3d04b4d0f52b00de6493ba2c1fcb28b32f3e4a0e99b3d9f6c4e8ed</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>a076f5eff0710de94d1eb77bee458ea43b8f4d9572bbb3a3aec1edf0dde0a3e7</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>62fcb9922164725c7cba5747562f2ad2f4d834ad0a458c1e4c794cc203dcdfb3</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>69d9b044ffaf544a4d1d4b40272f05d56aaf75d7e3c526d5418d1d3c78249e45</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>5fea9ad294ea73f952243178db5340dc29c14ad96aed3f92a18deedb73f221ec</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>6fcf70aae5bc64870c358fac153cdfdc93f55d8bae010741ecce06bb14c083ea</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>6ea8261b503c6c63d616878837dc70b758d4a3aeb9996ade8e83b51aedac9698</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>f5144823e6d8a0b78611a8d12e7a25202126d079c3a232b18f37e61e872ff563</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>bb16739fcad964c197752200ff89d89aad7b118cb1de5725dc53fe924c40e3f7</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>25824bf20d8d9501e9b6cabdd6bd25ec10cc649d4e3155dba86037f57bba842e</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>d6472a5f5d3ff125b4a1aa5cefd6197faadfb578c36f639240a04df1a71597e1</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>002d640a12d6fad48f7d8a5c56cb4ff656397caf3511f50426d9c69c94b2d137</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>2ca83eecd221bedf3eceb0ccfcf45bb2e27950c382c2326211303adb0a9c4232</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>01283cbc2b09555cbf2a71c162097552a62a4fd48a0a4c06e34e9b853b815486</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>7124a296518edda2ae326e754aec9be6d0ac86131e6f61b52f5ecaa413b66ae4</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>5e245f6af6fb761fbe4b3ac06b753f33b361ce0486c48c85b45731a7ee5e4cca</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>03cd1fa19f90d38005148793efdb17a9b58d01dedea641a8496b9cf228db3ab4</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>465b2d2bd7512b173860c6907d8127ee76a19a385aa7865608e57a5eebe23597</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>ae8627adb1f0ae7bdb82ffd74a579953b8acdcd4b94aeefc7569078c3d7994c6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>7732548b9c353114b0dfa173bc7bcdedd58a607a5b4ca49d867bdb4c05dc25a1</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>a87a0acdc67d066bc331cb96c7fd29a883d67a41beeef538a0bd2878872ebad9</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>6e0aaaffe5507a44ec6b1b8a0fb585285813b78cc045f8804e70a6aac9d1cb4c</span><span class=w>
</span><span class=w></span><span class=nt>kubeadm_checksums</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>arm</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>522358c8596d10cac1a04a9e52f0ae59a1c06ca122292429d36773e7f6ad0a01</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>effc35d1e3ab01ac80185ff9f7ca5afabbb94f5f91d7326b04b09e903315647d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>0e910cf9c771976f6eb079098ad428f3e99080624f478e3d71b670005a7c3651</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>62fca8b373f8c63409bcfcb7c585f8de882a8a119d88d39666e1ab3a11be188b</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>49f53573bdefd4ed37376800119b082666d03d5657d5886a4caa35e63a11d658</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>026cd1ec3b75703994254ae44998a544f46723b424775218f90c07754bb42bb6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>52ec1a5d8a6826762c112d55734e35cf895a02e746b8d6ca4a9c942289aab077</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>84abadc0abc01970ee73bf25078b2120a0725e4afcb9bb8c0d03077c978d7452</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>461641c8fb8db2afe6e103aca925a4ef9d161dcae08a96fc24674b0ea0122e04</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>0a8a021cb3d18295f53843b1ab7d2d8bf9b861d5d6bd160f24717d22aa5a8fa7</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>88b8004dcfbf8862e5ae4dadcd4e4ef86c91211e48cd45922d5a18634b06d1b3</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>c3558beca26c1b970cee8419dcf24f9812483f6ef384cea9a704491bc3af1e2c</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>4f919ad7215209dee97ea4c61668e44a2cce8f575b9cf4032e47f0c377924854</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>0f05bd526bb38be11459675c69bc882a2d3e583e48339fab49b620d292c2433e</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>086de433c9e77d37a6fd38fca059b7ab4cae9d0a3e57350d245f753cb391cec0</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>c18a1c4aa3788c8e860a8653987bd50df9f2da70e15e5a4e1cce6f9a4bee4831</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>df79e696668290091cf93b4c68ff614b3886cecbe40dbf76fdfff799ba41901d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>69c28a8e35394cf72b3926bb557724b7d0c5bbd07a22fdd9c207b943b4c617b3</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>1e8e653a07438131126f62b853b442356b341d2950f0d7c30d2a96e773a54611</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>47c911a7deff993e654da1e0644fe627e496292d7a7a5f43f33fa4cde6b6856d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>a12f4281d018a7d53611cb1c0c537cd8f82dc01f3e16c16513622c1d6c9db658</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>ae2b66de65a6a435ff06ea8e542904e92c5eec0c42c2e57905a2a31a52106ca1</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>d22dd143947aa442812b325f36d48929506ea8416230213ffb83c29c1c1222f5</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>fc94d273927bc7e1dce91518133492f4e76aead6e795338317281fb0c6b6445e</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>c0a74989da367d9c11b25d4fbd90e8d3d1a013a63c9be7bbce61b320715c1a83</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>501d1bacb863713dd9d0101d0021b0227869c4b1b9e903f6498333c613d384e1</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>5fcf1234d89bc2a364c53b76b36134fc57278b456138d93c278805f2c9b186f1</span><span class=w>
</span><span class=w>  </span><span class=nt>arm64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>c398c23019f988514ac0f2c1e32a388cf11ca9d48634530092dbf54d9e00eaa6</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>b6900a44558ba1a0a364406e2072163f5fc561030da97045e1403cdc69ff2682</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>dcdabd2fdec9b4dd8febd1625e1fbbe15362919041e5f4ce3aab629e4aea7540</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>db1c432646e6e6484989b6f7191f3610996ac593409f12574290bfc008ea11f5</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>dc4a2daa3bf3e652fc7a81f5b449752c08e6a91e27aa1bbffad7ade35508a77b</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>c17e29b8cec1892b6cd72aed1af6d9abfd39816c222d3cc5c97c6637a284162d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>71f6d95f165a9e8066c6f299217af779829ab3d798f6130caf6daa4784dc0464</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>df5a3d7c70c3f8221d57093c5cb17558aad6e65725d7a096c6620302fbf64730</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>0e2a9de622177015c2514498382b0d821ac8f71c7ed5f02e5684d456ff3c0e4d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>67feef5289663ac1bf7c3ab6bdc2d5ac2f24e9ca5ddad82129fd8ea1f9c8b747</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>6a6fda8e2abdaed05f9df16528c8c0ae59cbe89fbda467cce204bf548965863f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>e5a1f738443c15f5f8f3b316c6c7f8038f84f24b5d4bf2eef5bee39ca208952a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>0cb6589d9b4c09b007eae977ab8a185fc4140eda886408dced4f500a508e4e83</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>2ef1785159c80a9acd454a1c8be3c6b8db2260200b22e4359426e709ff786d01</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>eb84d8cd772a02c6db35ffd77f2ee2703db5b92571f9b7c8c30108ee7bb35b0a</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>fb2f090c4bd62229a738b8e1faa81bd3b01252a49351464a1e1be9fe689ab959</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>0875b49d7eacb80db3b9a375086a091304420c875ae8b54191ed9aa0af4c54e3</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>b56dc03177636fdafb4f8ab329d087b804cb7395c142f76e8246e86083c6d750</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>5a52e7d0306890e68ed66fc47ecd70bf14628c70527442fd0cd2973dbde7064c</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>6c8622adf5a7a2dfc66ebe15058353b2e2660b01f1e8990bab7a9c7fca76bccb</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>b9f20f98aeecc7b011727ff8be9008a8229cdbea6d3dd93f782622c306306288</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>6f004152ca1f60bb6ac7446e2c317957df5cff5ac55b60c08ce7869792dc4196</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>20e1e095f8c46e5dba6366eec162a40b22cd7639f32e83743afef3c0daafd127</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>92d584c2ff83790830384159fbf6d04798eea002d6315923657fd6f74c80f092</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>091864574d38d3e30ed57734419b55d0957f39291d6f573ff8fffc8d474fb9ec</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>c640eb50406962628ac6e31fd840506a360b5d9c57d14007d0eaada28c49d64f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>0b94d1ace240a8f9995358ca2b66ac92072e3f3cd0543275b315dcd317798546</span><span class=w>
</span><span class=w>  </span><span class=nt>amd64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.3</span><span class=p>:</span><span class=w> </span><span class=l>0a7581fdebe05fb101ce30d4e1f85e865e18f5c034e4f7cc785c786e861f9be2</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.2</span><span class=p>:</span><span class=w> </span><span class=l>377dbf06469709aafb7a9a6c925e890bf48727b905455c2a81fee28727716f2f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.1</span><span class=p>:</span><span class=w> </span><span class=l>d5afcf4ff916b4c6810f10f76176c73238f0854b7748b2cde8afbd91de65a3c9</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.19.0</span><span class=p>:</span><span class=w> </span><span class=l>88ce7dc5302d8847f6e679aab9e4fa642a819e8a33d70731fb7bc8e110d8659f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.10</span><span class=p>:</span><span class=w> </span><span class=l>9bf46e5276bc14d42d6dcf05ac507bb3236ce8dc0fa21aad985d9328c377c18d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.9</span><span class=p>:</span><span class=w> </span><span class=l>3f7f61e0fe3de43f5b345343f85d7ba5145737efb80974baa6076965f3a6963e</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.8</span><span class=p>:</span><span class=w> </span><span class=l>27c8f4d4398d57762998b157d35802a36a7ea9b2b6f9a363c397a9d65b4f3c89</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.6</span><span class=p>:</span><span class=w> </span><span class=l>11b4180b9f82a8b6bb30250e3d7341b104521f3b654076b8569853ec9451b2a9</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.5</span><span class=p>:</span><span class=w> </span><span class=l>e428fc9d1cf860090346a83eb66082c3be6b6032f0db9e4f8e6d52492d46231f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.4</span><span class=p>:</span><span class=w> </span><span class=l>cec00c2629805b660b5f41b13292dfe75cbd3803e57a1ded53def912fedb1a22</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.3</span><span class=p>:</span><span class=w> </span><span class=l>a60974e9840e006076d204fd4ddcba96213beba10fb89ff01882095546c9684d</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.2</span><span class=p>:</span><span class=w> </span><span class=l>290bb6acb12c844f76affbab1ce374903bd97c4f19ac8cd3e6fdb7208d638ac8</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.1</span><span class=p>:</span><span class=w> </span><span class=l>fdb194647048f3e3ebdc93613b21a5b678fcbe0d212d08c0d56758d1bf2d2c85</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.18.0</span><span class=p>:</span><span class=w> </span><span class=l>0261331c2ea718c0cd39114871aa098f1b4685f6101cb78cc880f645e72d0654</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.13</span><span class=p>:</span><span class=w> </span><span class=l>eaea610b88369dfd46aaaaad343865f5ef2e5bffe97dda9638adb467d86cd5cd</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.12</span><span class=p>:</span><span class=w> </span><span class=l>214f547788410a643d57aee8215d99f44ebe59967e973f83b024e2ba7832593f</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.11</span><span class=p>:</span><span class=w> </span><span class=l>328ca55af305fef59e72544d0faf76167b5b5dc5779cec17c670961e6529d907</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.9</span><span class=p>:</span><span class=w> </span><span class=l>5ef1660d3d56e93e3d87d6a7028aa64745984be0b0678c45c32f66043b4d69b4</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.8</span><span class=p>:</span><span class=w> </span><span class=l>c59b85696c4cbabe896ba71f4bbc99e4ad2444fcea851e3ee740705584420aad</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.7</span><span class=p>:</span><span class=w> </span><span class=l>9d4b97e93ddb204798b91fec063743e218c92b42798779b5248a49e1476226e2</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.6</span><span class=p>:</span><span class=w> </span><span class=l>d4cfc9a0a734ba015594974ee4253b8965b95cdb6e83d8a6a946675aad418b40</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.5</span><span class=p>:</span><span class=w> </span><span class=l>9bd2fd1118b3d07d12e2a806c04bf34d99e79886c5318ddc003ba38f30da390c</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.4</span><span class=p>:</span><span class=w> </span><span class=l>3cdcffcf8a1660241a045cfdfed3ebbf7f7c6a0840f008e2b049b533bca5bb8c</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.3</span><span class=p>:</span><span class=w> </span><span class=l>e34e3193a1161aea7269cee3f115e86ff71f01702a1c15fa0f71103bf2dba304</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.2</span><span class=p>:</span><span class=w> </span><span class=l>33a1d8e3cea2bdbb9fa9cb257c516289ee50d957fcb6d7b35919f5f0e6ca2f41</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.1</span><span class=p>:</span><span class=w> </span><span class=l>11bd31833dab9adb5b53398772dd1582264c3d1757cb3395e691d6a7379081ec</span><span class=w>
</span><span class=w>    </span><span class=nt>v1.17.0</span><span class=p>:</span><span class=w> </span><span class=l>0d8443f50fb7caab2e5e7e53f9dc56d5ffe55f021ec061f2e2bcba0481df5a48</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>etcd_binary_checksums</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=c># Etcd does not have arm32 builds at the moment, having some dummy value is</span><span class=w>
</span><span class=w>  </span><span class=c># required to avoid &#34;no attribute&#34; error</span><span class=w>
</span><span class=w>  </span><span class=nt>arm</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span><span class=w>  </span><span class=nt>arm64</span><span class=p>:</span><span class=w> </span><span class=l>01bd849ad99693600bd59db8d0e66ac64aac1e3801900665c31bd393972e3554</span><span class=w>
</span><span class=w>  </span><span class=nt>amd64</span><span class=p>:</span><span class=w> </span><span class=l>6c642b723a86941b99753dff6c00b26d3b033209b15ee33325dc8e7f4cd68f07</span><span class=w>
</span><span class=w></span><span class=nt>cni_binary_checksums</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>arm</span><span class=p>:</span><span class=w> </span><span class=l>5757778f4c322ffd93d7586c60037b81a2eb79271af6f4edf9ff62b4f7868ed9</span><span class=w>
</span><span class=w>  </span><span class=nt>arm64</span><span class=p>:</span><span class=w> </span><span class=l>ae13d7b5c05bd180ea9b5b68f44bdaa7bfb41034a2ef1d68fd8e1259797d642f</span><span class=w>
</span><span class=w>  </span><span class=nt>amd64</span><span class=p>:</span><span class=w> </span><span class=l>977824932d5667c7a37aa6a3cbba40100a6873e7bd97e83e8be837e3e7afd0a8</span><span class=w>
</span><span class=w></span><span class=nt>calicoctl_binary_checksums</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>arm</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.15.2</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.14.1</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.13.3</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span><span class=w>  </span><span class=nt>amd64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.15.2</span><span class=p>:</span><span class=w> </span><span class=l>219ae954501cbe15daeda0ad52e13ec65f99c77548c7d3cbfc4ced5c7149fdf1</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.14.1</span><span class=p>:</span><span class=w> </span><span class=l>5fe8a7b00a45cf48879eff42b08dcdb85cf0121f3720ac8cbd06566aaa385667</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.13.3</span><span class=p>:</span><span class=w> </span><span class=l>570539d436df51bb349bb1a8c6b200a3a6f20803a9d391aa2c5cf19a70a083d4</span><span class=w>
</span><span class=w>  </span><span class=nt>arm64</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.15.2</span><span class=p>:</span><span class=w> </span><span class=l>49165f9e4ad55402248b578310fcf68a57363f54e66be04ac24be9714899b4d5</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.14.1</span><span class=p>:</span><span class=w> </span><span class=l>326da28cb726988029f70fbf3d4de424a4edd9949fd435fad81f2203c93e4c36</span><span class=w>
</span><span class=w>    </span><span class=nt>v3.13.3</span><span class=p>:</span><span class=w> </span><span class=l>0c47acd6d200ba1f8348b389cd7a54771542158fef657afc633a30ddad97e272</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>etcd_binary_checksum</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_binary_checksums[image_arch] }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cni_binary_checksum</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cni_binary_checksums[image_arch] }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kubelet_binary_checksum</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kubelet_checksums[image_arch][kube_version] }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kubectl_binary_checksum</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kubectl_checksums[image_arch][kube_version] }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kubeadm_binary_checksum</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kubeadm_checksums[image_arch][kubeadm_version] }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calicoctl_binary_checksum</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calicoctl_binary_checksums[image_arch][calico_ctl_version] }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>crictl_binary_checksum</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ crictl_checksums[image_arch][crictl_version] }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Containers</span><span class=w>
</span><span class=w></span><span class=c># In some cases, we need a way to set --registry-mirror or --insecure-registry for docker,</span><span class=w>
</span><span class=w></span><span class=c># it helps a lot for local private development or bare metal environment.</span><span class=w>
</span><span class=w></span><span class=c># So you need define --registry-mirror or --insecure-registry, and modify the following url address.</span><span class=w>
</span><span class=w></span><span class=c># example:</span><span class=w>
</span><span class=w></span><span class=c># You need to deploy kubernetes cluster on local private development.</span><span class=w>
</span><span class=w></span><span class=c># Also provide the address of your own private registry.</span><span class=w>
</span><span class=w></span><span class=c># And use --insecure-registry options for docker</span><span class=w>
</span><span class=w></span><span class=nt>kube_proxy_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_image_repo }}/kube-proxy&#34;</span><span class=w>
</span><span class=w></span><span class=nt>etcd_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/coreos/etcd&#34;</span><span class=w>
</span><span class=w></span><span class=nt>etcd_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_version }}{%- if image_arch != &#39;amd64&#39; -%}-{{ image_arch }}{%- endif -%}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>flannel_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/coreos/flannel&#34;</span><span class=w>
</span><span class=w></span><span class=nt>flannel_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ flannel_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_node_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/calico/node&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_node_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_cni_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/calico/cni&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_cni_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_cni_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_policy_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/calico/kube-controllers&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_policy_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_policy_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_typha_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/calico/typha&#34;</span><span class=w>
</span><span class=w></span><span class=nt>calico_typha_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_typha_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>pod_infra_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_image_repo }}/pause&#34;</span><span class=w>
</span><span class=w></span><span class=nt>pod_infra_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ pod_infra_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>install_socat_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/xueshanf/install-socat&#34;</span><span class=w>
</span><span class=w></span><span class=nt>install_socat_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;latest&#34;</span><span class=w>
</span><span class=w></span><span class=nt>netcheck_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>netcheck_agent_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/l23network/k8s-netchecker-agent&#34;</span><span class=w>
</span><span class=w></span><span class=nt>netcheck_agent_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ netcheck_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>netcheck_server_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/l23network/k8s-netchecker-server&#34;</span><span class=w>
</span><span class=w></span><span class=nt>netcheck_server_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ netcheck_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>weave_kube_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/weaveworks/weave-kube&#34;</span><span class=w>
</span><span class=w></span><span class=nt>weave_kube_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ weave_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>weave_npc_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/weaveworks/weave-npc&#34;</span><span class=w>
</span><span class=w></span><span class=nt>weave_npc_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ weave_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/contiv/netplugin&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_init_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/contiv/netplugin-init&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_init_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_auth_proxy_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/contiv/auth_proxy&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_auth_proxy_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_etcd_init_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/ferest/etcd-initer&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_etcd_init_image_tag</span><span class=p>:</span><span class=w> </span><span class=l>latest</span><span class=w>
</span><span class=w></span><span class=nt>contiv_ovs_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/contiv/ovs&#34;</span><span class=w>
</span><span class=w></span><span class=nt>contiv_ovs_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;latest&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cilium_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/cilium/cilium&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cilium_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cilium_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cilium_init_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/cilium/cilium-init&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cilium_init_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2019-04-05&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cilium_operator_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/cilium/operator&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cilium_operator_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cilium_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kube_ovn_container_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/kubeovn/kube-ovn&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kube_ovn_container_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_ovn_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kube_router_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/cloudnativelabs/kube-router&#34;</span><span class=w>
</span><span class=w></span><span class=nt>kube_router_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_router_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>multus_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/nfvpe/multus&#34;</span><span class=w>
</span><span class=w></span><span class=nt>multus_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ multus_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ovn4nfv_ovn_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/integratedcloudnative/ovn-images&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ovn4nfv_ovn_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ovn4nfv_ovn_image_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ovn4nfv_k8s_plugin_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/integratedcloudnative/ovn4nfv-k8s-plugin&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ovn4nfv_k8s_plugin_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ovn4nfv_k8s_plugin_image_version }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>nginx_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/library/nginx&#34;</span><span class=w>
</span><span class=w></span><span class=nt>nginx_image_tag</span><span class=p>:</span><span class=w> </span><span class=m>1.19</span><span class=w>
</span><span class=w></span><span class=nt>haproxy_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/library/haproxy&#34;</span><span class=w>
</span><span class=w></span><span class=nt>haproxy_image_tag</span><span class=p>:</span><span class=w> </span><span class=m>2.1</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Coredns version should be supported by corefile-migration (or at least work with)</span><span class=w>
</span><span class=w></span><span class=c># bundle with kubeadm; if not &#39;basic&#39; upgrade can sometimes fail</span><span class=w>
</span><span class=w></span><span class=c># add by wangb</span><span class=w>
</span><span class=w></span><span class=c>#coredns_version: &#34;1.6.7&#34;</span><span class=w>
</span><span class=w></span><span class=nt>coredns_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1.7.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>coredns_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/coredns/coredns&#34;</span><span class=w>
</span><span class=w></span><span class=nt>coredns_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ coredns_version }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>nodelocaldns_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1.15.13&#34;</span><span class=w>
</span><span class=w></span><span class=nt>nodelocaldns_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_image_repo }}/k8s-dns-node-cache&#34;</span><span class=w>
</span><span class=w></span><span class=nt>nodelocaldns_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ nodelocaldns_version }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># add by wangb start</span><span class=w>
</span><span class=w></span><span class=c>#dnsautoscaler_version: 1.8.1</span><span class=w>
</span><span class=w></span><span class=nt>dnsautoscaler_version</span><span class=p>:</span><span class=w> </span><span class=l>v1.3.0</span><span class=w>
</span><span class=w></span><span class=nt>dnsautoscaler_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_image_repo }}/cluster-proportional-autoscaler-{{ image_arch }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>dnsautoscaler_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dnsautoscaler_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=c># add by wangb end</span><span class=w>
</span><span class=w></span><span class=nt>test_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/library/busybox&#34;</span><span class=w>
</span><span class=w></span><span class=nt>test_image_tag</span><span class=p>:</span><span class=w> </span><span class=l>latest</span><span class=w>
</span><span class=w></span><span class=nt>busybox_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/library/busybox&#34;</span><span class=w>
</span><span class=w></span><span class=nt>busybox_image_tag</span><span class=p>:</span><span class=w> </span><span class=m>1.32.0</span><span class=w>
</span><span class=w></span><span class=nt>helm_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v3.2.4&#34;</span><span class=w>
</span><span class=w></span><span class=nt>helm_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/lachlanevenson/k8s-helm&#34;</span><span class=w>
</span><span class=w></span><span class=nt>helm_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ helm_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>tiller_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ gcr_image_repo }}/kubernetes-helm/tiller&#34;</span><span class=w>
</span><span class=w></span><span class=nt>tiller_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ helm_version }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>registry_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/library/registry&#34;</span><span class=w>
</span><span class=w></span><span class=nt>registry_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2.7.1&#34;</span><span class=w>
</span><span class=w></span><span class=nt>registry_proxy_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_image_repo }}/kube-registry-proxy&#34;</span><span class=w>
</span><span class=w></span><span class=nt>registry_proxy_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.4&#34;</span><span class=w>
</span><span class=w></span><span class=c># add by wangb start</span><span class=w>
</span><span class=w></span><span class=c>#metrics_server_version: &#34;v0.3.7&#34;</span><span class=w>
</span><span class=w></span><span class=c>#metrics_server_image_repo: &#34;{{ kube_image_repo }}/metrics-server/metrics-server&#34;</span><span class=w>
</span><span class=w></span><span class=nt>metrics_server_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.3.6&#34;</span><span class=w>
</span><span class=w></span><span class=nt>metrics_server_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_image_repo }}/metrics-server-amd64&#34;</span><span class=w>
</span><span class=w></span><span class=c># add by wangb end</span><span class=w>
</span><span class=w></span><span class=nt>metrics_server_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ metrics_server_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>local_volume_provisioner_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/external_storage/local-volume-provisioner&#34;</span><span class=w>
</span><span class=w></span><span class=nt>local_volume_provisioner_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.3.4&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cephfs_provisioner_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/external_storage/cephfs-provisioner&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cephfs_provisioner_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.1.0-k8s1.11&#34;</span><span class=w>
</span><span class=w></span><span class=nt>rbd_provisioner_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/external_storage/rbd-provisioner&#34;</span><span class=w>
</span><span class=w></span><span class=nt>rbd_provisioner_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.1.1-k8s1.11&#34;</span><span class=w>
</span><span class=w></span><span class=nt>local_path_provisioner_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/rancher/local-path-provisioner&#34;</span><span class=w>
</span><span class=w></span><span class=nt>local_path_provisioner_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.0.14&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ingress_nginx_controller_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_image_repo }}/ingress-nginx/controller&#34;</span><span class=w>
</span><span class=w></span><span class=c># add by wangb start</span><span class=w>
</span><span class=w></span><span class=c>#ingress_nginx_controller_image_tag: &#34;v0.35.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ingress_nginx_controller_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.25.1&#34;</span><span class=w>
</span><span class=w></span><span class=c># add by wangb end</span><span class=w>
</span><span class=w></span><span class=nt>ingress_ambassador_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/datawire/ambassador-operator&#34;</span><span class=w>
</span><span class=w></span><span class=nt>ingress_ambassador_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.2.8&#34;</span><span class=w>
</span><span class=w></span><span class=nt>alb_ingress_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/amazon/aws-alb-ingress-controller&#34;</span><span class=w>
</span><span class=w></span><span class=nt>alb_ingress_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.1.8&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cert_manager_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.16.1&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cert_manager_controller_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/jetstack/cert-manager-controller&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cert_manager_controller_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cert_manager_cainjector_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/jetstack/cert-manager-cainjector&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cert_manager_cainjector_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cert_manager_webhook_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/jetstack/cert-manager-webhook&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cert_manager_webhook_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>addon_resizer_version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1.8.11&#34;</span><span class=w>
</span><span class=w></span><span class=nt>addon_resizer_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_image_repo }}/addon-resizer&#34;</span><span class=w>
</span><span class=w></span><span class=nt>addon_resizer_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ addon_resizer_version }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>csi_attacher_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/k8scsi/csi-attacher&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_attacher_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.2.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_provisioner_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/k8scsi/csi-provisioner&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_provisioner_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.6.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_snapshotter_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/k8scsi/csi-snapshotter&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_snapshotter_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.1.1&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_resizer_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/k8scsi/csi-resizer&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_resizer_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.5.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_node_driver_registrar_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/k8scsi/csi-node-driver-registrar&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_node_driver_registrar_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.3.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_livenessprobe_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/k8scsi/livenessprobe&#34;</span><span class=w>
</span><span class=w></span><span class=nt>csi_livenessprobe_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.0.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>snapshot_controller_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ quay_image_repo }}/k8scsi/snapshot-controller&#34;</span><span class=w>
</span><span class=w></span><span class=nt>snapshot_controller_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.0.1&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>cinder_csi_plugin_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/k8scloudprovider/cinder-csi-plugin&#34;</span><span class=w>
</span><span class=w></span><span class=nt>cinder_csi_plugin_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.18.0&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>aws_ebs_csi_plugin_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/amazon/aws-ebs-csi-driver&#34;</span><span class=w>
</span><span class=w></span><span class=nt>aws_ebs_csi_plugin_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.5.0&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;mcr.microsoft.com/oss/kubernetes-csi&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_provisioner_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.5.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_attacher_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.2.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_cluster_registrar_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.0.1&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_node_registrar_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.1.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_snapshotter_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.0.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_resizer_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.3.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_livenessprobe_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.1.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_plugin_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;mcr.microsoft.com/k8s/csi&#34;</span><span class=w>
</span><span class=w></span><span class=nt>azure_csi_plugin_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.7.0&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>gcp_pd_csi_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;gke.gcr.io&#34;</span><span class=w>
</span><span class=w></span><span class=nt>gcp_pd_csi_driver_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.7.0-gke.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>gcp_pd_csi_provisioner_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.5.0-gke.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>gcp_pd_csi_attacher_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.1.1-gke.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>gcp_pd_csi_resizer_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v0.4.0-gke.0&#34;</span><span class=w>
</span><span class=w></span><span class=nt>gcp_pd_csi_registrar_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.2.0-gke.0&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>dashboard_image_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/kubernetesui/dashboard-{{ image_arch }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>dashboard_image_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v2.0.4&#34;</span><span class=w>
</span><span class=w></span><span class=nt>dashboard_metrics_scraper_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_image_repo }}/kubernetesui/metrics-scraper&#34;</span><span class=w>
</span><span class=w></span><span class=nt>dashboard_metrics_scraper_tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;v1.0.5&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>image_pull_command</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_bin_dir }}/docker pull&#34;</span><span class=w>
</span><span class=w></span><span class=nt>image_save_command</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_bin_dir }}/docker save {{ image_reponame }} | gzip -{{ download_compress }} &gt; {{ image_path_final }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>image_load_command</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_bin_dir }}/docker load &lt; {{ image_path_final }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>image_info_command</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_bin_dir }}/docker images -q | xargs {{ docker_bin_dir }}/docker inspect -f \&#34;{{ &#39;{{&#39; }} if .RepoTags {{ &#39;}}&#39; }}{{ &#39;{{&#39; }} (join .RepoTags \\\&#34;,\\\&#34;) {{ &#39;}}&#39; }}{{ &#39;{{&#39; }} end {{ &#39;}}&#39; }}{{ &#39;{{&#39; }} if .RepoDigests {{ &#39;}}&#39; }},{{ &#39;{{&#39; }} (join .RepoDigests \\\&#34;,\\\&#34;) {{ &#39;}}&#39; }}{{ &#39;{{&#39; }} end {{ &#39;}}&#39; }}\&#34; | tr &#39;\n&#39; &#39;,&#39;&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>image_pull_command_on_localhost</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_bin_dir }}/docker pull&#34;</span><span class=w>
</span><span class=w></span><span class=nt>image_save_command_on_localhost</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_bin_dir }}/docker save {{ image_reponame }} | gzip -{{ download_compress }} &gt; {{ image_path_cached }}&#34;</span><span class=w>
</span><span class=w></span><span class=nt>image_info_command_on_localhost</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ docker_bin_dir }}/docker images&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>downloads</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>netcheck_server</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ deploy_netchecker }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ netcheck_server_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ netcheck_server_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ netcheck_server_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>netcheck_agent</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ deploy_netchecker }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ netcheck_agent_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ netcheck_agent_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ netcheck_agent_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>etcd</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_deployment_type != &#39;host&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_deployment_type == &#39;host&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_version }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_release_dir }}/etcd-{{ etcd_version }}-linux-amd64.tar.gz&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=p>&gt;-</span><span class=sd>
</span><span class=sd>      {{ etcd_binary_checksum if (etcd_deployment_type == &#39;host&#39;)
</span><span class=sd>      else etcd_digest_checksum|d(None) }}</span><span class=w>      
</span><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_download_url }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>unarchive</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ etcd_deployment_type == &#39;host&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0755&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>etcd</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cni</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cni_version }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{local_release_dir}}/cni-plugins-linux-{{ image_arch }}-{{ cni_version }}.tgz&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ cni_binary_checksum }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cni_download_url }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>unarchive</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0755&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>kubeadm</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kubeadm_version }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_release_dir }}/kubeadm-{{ kubeadm_version }}-{{ image_arch }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ kubeadm_binary_checksum }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kubeadm_download_url }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>unarchive</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0755&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>kubelet</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_version }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_release_dir }}/kubelet-{{ kube_version }}-{{ image_arch }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ kubelet_binary_checksum }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kubelet_download_url }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>unarchive</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0755&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>kubectl</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_version }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_release_dir }}/kubectl-{{ kube_version }}-{{ image_arch }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ kubectl_binary_checksum }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kubectl_download_url }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>unarchive</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0755&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-master</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>crictl</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ container_manager in [&#39;crio&#39;, &#39;cri&#39;, &#39;containerd&#39;] }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ crictl_version }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{local_release_dir}}/crictl-{{ crictl_version }}-linux-{{ image_arch }}.tar.gz&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ crictl_binary_checksum }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ crictl_download_url }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>unarchive</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0755&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cilium</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;cilium&#39; or cilium_deploy_additionally | default(false) | bool }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cilium_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cilium_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ cilium_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cilium_init</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;cilium&#39; or cilium_deploy_additionally | default(false) | bool }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cilium_init_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cilium_init_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ cilium_init_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cilium_operator</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;cilium&#39; or cilium_deploy_additionally | default(false) | bool }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cilium_operator_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cilium_operator_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ cilium_operator_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>multus</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin_multus }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ multus_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ multus_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ multus_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>flannel</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;flannel&#39; or kube_network_plugin == &#39;canal&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ flannel_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ flannel_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ flannel_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>calicoctl</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;calico&#39; or kube_network_plugin == &#39;canal&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_ctl_version }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_release_dir }}/calicoctl&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ calicoctl_binary_checksum }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calicoctl_download_url }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>unarchive</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0755&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>calico_node</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;calico&#39; or kube_network_plugin == &#39;canal&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_node_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_node_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_node_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>calico_cni</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;calico&#39; or kube_network_plugin == &#39;canal&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_cni_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_cni_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_cni_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>calico_policy</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ enable_network_policy and kube_network_plugin in [&#39;calico&#39;, &#39;canal&#39;] }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_policy_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_policy_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_policy_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>calico_typha</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ typha_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_typha_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_typha_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ calico_typha_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>weave_kube</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;weave&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ weave_kube_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ weave_kube_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ weave_kube_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>weave_npc</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;weave&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ weave_npc_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ weave_npc_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ weave_npc_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>ovn4nfv</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;ovn4nfv&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ovn4nfv_k8s_plugin_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ovn4nfv_k8s_plugin_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ ovn4nfv_k8s_plugin_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>contiv</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;contiv&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ contiv_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>contiv_auth_proxy</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;contiv&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_auth_proxy_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_auth_proxy_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ contiv_auth_proxy_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>contiv_etcd_init</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;contiv&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_etcd_init_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ contiv_etcd_init_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ contiv_etcd_init_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>kube_ovn</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;kube-ovn&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_ovn_container_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_ovn_container_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ kube_ovn_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>kube_router</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin == &#39;kube-router&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_router_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_router_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ kube_router_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>pod_infra</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ pod_infra_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ pod_infra_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ pod_infra_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>install_socat</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ansible_os_family in [&#39;Flatcar Container Linux by Kinvolk&#39;] }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ install_socat_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ install_socat_image_tag }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    sha256: &#34;{{ install_socat_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>nginx</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ loadbalancer_apiserver_localhost and loadbalancer_apiserver_type == &#39;nginx&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ nginx_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ nginx_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ nginx_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>haproxy</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ loadbalancer_apiserver_localhost and loadbalancer_apiserver_type == &#39;haproxy&#39; }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ haproxy_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ haproxy_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ haproxy_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>coredns</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dns_mode in [&#39;coredns&#39;, &#39;coredns_dual&#39;] }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ coredns_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ coredns_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ coredns_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-master</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>nodelocaldns</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ enable_nodelocaldns }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ nodelocaldns_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ nodelocaldns_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ nodelocaldns_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>dnsautoscaler</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dns_mode in [&#39;coredns&#39;, &#39;coredns_dual&#39;] }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dnsautoscaler_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dnsautoscaler_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dnsautoscaler_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-master</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>busybox</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ kube_network_plugin in [&#39;kube-router&#39;] }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ busybox_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ busybox_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ busybox_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>k8s-cluster</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>testbox</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ test_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ test_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ testbox_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>helm</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ helm_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ helm_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ helm_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ helm_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>tiller</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ helm_enabled and helm_version is version(&#39;v3.0.0&#39;, &#39;&lt;&#39;) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ tiller_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ tiller_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ tiller_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>registry</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ registry_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ registry_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ registry_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ registry_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>registry_proxy</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ registry_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ registry_proxy_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ registry_proxy_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ registry_proxy_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>metrics_server</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ metrics_server_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ metrics_server_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ metrics_server_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ metrics_server_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-master</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>addon_resizer</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=c># Currently addon_resizer is only used by metrics server</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ metrics_server_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ addon_resizer_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ addon_resizer_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ addon_resizer_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-master</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>local_volume_provisioner</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_volume_provisioner_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_volume_provisioner_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_volume_provisioner_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_volume_provisioner_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cephfs_provisioner</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cephfs_provisioner_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cephfs_provisioner_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cephfs_provisioner_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cephfs_provisioner_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>rbd_provisioner</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ rbd_provisioner_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ rbd_provisioner_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ rbd_provisioner_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ rbd_provisioner_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>local_path_provisioner</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_path_provisioner_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_path_provisioner_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_path_provisioner_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ local_path_provisioner_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>ingress_nginx_controller</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_nginx_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_nginx_controller_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_nginx_controller_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_nginx_controller_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>ingress_ambassador_controller</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_ambassador_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_ambassador_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_ambassador_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_ambassador_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>ingress_alb_controller</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_alb_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ alb_ingress_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ alb_ingress_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ ingress_alb_controller_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cert_manager_controller</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_controller_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_controller_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_controller_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cert_manager_cainjector</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_cainjector_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_cainjector_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_cainjector_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cert_manager_webhook</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_webhook_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_webhook_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cert_manager_webhook_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>csi_attacher</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_enabled or aws_ebs_csi_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_attacher_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_attacher_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_attacher_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>csi_provisioner</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_enabled or aws_ebs_csi_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_provisioner_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_provisioner_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_provisioner_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>csi_snapshotter</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_enabled or aws_ebs_csi_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_snapshotter_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_snapshotter_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_snapshotter_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>snapshot_controller</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ snapshot_controller_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ snapshot_controller_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ snapshot_controller_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>csi_resizer</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_enabled or aws_ebs_csi_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_resizer_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_resizer_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_resizer_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>csi_node_driver_registrar</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_enabled or aws_ebs_csi_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_node_driver_registrar_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_node_driver_registrar_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ csi_node_driver_registrar_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>cinder_csi_plugin</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_plugin_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_plugin_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ cinder_csi_plugin_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>aws_ebs_csi_plugin</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ aws_ebs_csi_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ aws_ebs_csi_plugin_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ aws_ebs_csi_plugin_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ aws_ebs_csi_plugin_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-node</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>dashboard</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dashboard_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dashboard_image_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dashboard_image_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dashboard_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-master</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=nt>dashboard_metrics_scrapper</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dashboard_enabled }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dashboard_metrics_scraper_repo }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dashboard_metrics_scraper_tag }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>sha256</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ dashboard_digest_checksum|default(None) }}&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>kube-master</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>download_defaults</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>  </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>  </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span><span class=w>  </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span><span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>  </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span><span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span><span class=w>  </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span><span class=w>  </span><span class=nt>unarchive</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>  </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=l>kube</span><span class=w>
</span><span class=w>  </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span><span class=w>
</span><span class=w>
</span></code></pre></td></tr></table></div></div><h3 id=文件服务file-server>文件服务file server</h3><p>自定义文件服务file server，为kubespray提供下载文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell><span class=o>[</span>root@node2 file_server<span class=o>]</span><span class=c1># ll tmp/kubernetes/v1.20.1/</span>
total <span class=m>306004</span>
-rw-r--r-- <span class=m>1</span> root root  <span class=m>40783872</span> Dec <span class=m>21</span> 17:41 calicoctl-linux-amd64
-rw-r--r-- <span class=m>1</span> root root  <span class=m>39641346</span> Dec <span class=m>21</span> 17:41 cni-plugins-linux-amd64-v0.8.7.tgz
-rw-r--r-- <span class=m>1</span> root root  <span class=m>39219200</span> Dec <span class=m>18</span> 20:21 kubeadm
-rw-r--r-- <span class=m>1</span> root root  <span class=m>40230912</span> Dec <span class=m>18</span> 20:21 kubectl
-rw-r--r-- <span class=m>1</span> root root <span class=m>113982312</span> Dec <span class=m>18</span> 20:21 kubelet
-rw-r--r-- <span class=m>1</span> root root  <span class=m>39485440</span> Dec <span class=m>18</span> 20:21 kube-proxy
</code></pre></td></tr></table></div></div><p>kubespray会把其中的文件下载到暂存目录/tmp/release下</p><h3 id=下载缓存目录tmprelease>下载缓存目录/tmp/release</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell><span class=o>[</span>root@node2 deploy-kube-batch<span class=o>]</span><span class=c1># ll /tmp/releases/</span>
total <span class=m>267444</span>
-rwxr-xr-x <span class=m>1</span> root root  <span class=m>40783872</span> Dec <span class=m>22</span> 17:14 calicoctl
-rwxr-xr-x <span class=m>1</span> root root  <span class=m>39641346</span> Dec <span class=m>22</span> 17:14 cni-plugins-linux-amd64-v0.8.7.tgz
<span class=c1>###drwxr-xr-x 2 root root         6 Dec 22 17:14 images</span>
-rwxr-xr-x <span class=m>1</span> root root  <span class=m>39219200</span> Dec <span class=m>22</span> 17:14 kubeadm-v1.20.1-amd64
-rwxr-xr-x <span class=m>1</span> root root  <span class=m>40230912</span> Dec <span class=m>22</span> 17:14 kubectl-v1.20.1-amd64
-rwxr-xr-x <span class=m>1</span> root root <span class=m>113982312</span> Dec <span class=m>22</span> 17:14 kubelet-v1.20.1-amd64

</code></pre></td></tr></table></div></div><h3 id=命令目录文件>命令目录文件</h3><p>可以把下载后的文件</p><ul><li>kubeadm</li><li>kubectl</li><li>kubelet</li></ul><p>放置到/usr/local/bin目录下。</p><p>安装完成后的命令目录文件如下（其它文件是有kubspray下载完成的）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell><span class=o>[</span>root@node131 releases<span class=o>]</span><span class=c1># ll /usr/local/bin</span>
总用量 <span class=m>206112</span>
-rwxr-x---. <span class=m>1</span> root root       <span class=m>351</span> 12月 <span class=m>21</span> 14:52 etcd
-rwxr-xr-x. <span class=m>1</span> root root  <span class=m>17620576</span> 8月  <span class=m>25</span> 03:22 etcdctl
drwx------. <span class=m>2</span> root root        <span class=m>30</span> 12月 <span class=m>21</span> 14:50 etcd-scripts
-rwxr-x---. <span class=m>1</span> root root  <span class=m>39219200</span> 12月 <span class=m>21</span> 15:18 kubeadm
-rwxr-x---. <span class=m>1</span> root root  <span class=m>40230912</span> 12月 <span class=m>21</span> 15:18 kubectl
-rwxr-xr-x. <span class=m>1</span> root root <span class=m>113982312</span> 12月 <span class=m>21</span> 15:10 kubelet
drwxr-xr-x. <span class=m>2</span> kube root         <span class=m>6</span> 12月 <span class=m>21</span> 13:49 kubernetes-scripts
</code></pre></td></tr></table></div></div><p>二进制文件下载</p><p>安装过程中，某些二进制文件会下载很慢或者失败，则手动下载完成后
<a href=https://github.com/containernetworking/plugins/releases/download/v0.8.7/cni-plugins-linux-amd64-v0.8.7.tgz>https://github.com/containernetworking/plugins/releases/download/v0.8.7/cni-plugins-linux-amd64-v0.8.7.tgz</a></p><p>再把 下载 cni 部分注释掉 cni，如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml><span class=c>#  cni:</span><span class=w>
</span><span class=w></span><span class=c>#    enabled: true</span><span class=w>
</span><span class=w></span><span class=c>#    file: true</span><span class=w>
</span><span class=w></span><span class=c>#    version: &#34;{{ cni_version }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    dest: &#34;{{local_release_dir}}/cni-plugins-linux-{{ image_arch }}-{{ cni_version }}.tgz&#34;</span><span class=w>
</span><span class=w></span><span class=c>##    sha256: &#34;{{ cni_binary_checksum }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    url: &#34;{{ cni_download_url }}&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    unarchive: false</span><span class=w>
</span><span class=w></span><span class=c>#    owner: &#34;root&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    mode: &#34;0755&#34;</span><span class=w>
</span><span class=w></span><span class=c>#    groups:</span><span class=w>
</span><span class=w></span><span class=c>#    - k8s-cluster</span><span class=w>
</span></code></pre></td></tr></table></div></div><p>calicoctl下载地址
<a href=https://github.com/projectcalico/calicoctl/releases/download/v3.15.2/calicoctl-linux-amd64>https://github.com/projectcalico/calicoctl/releases/download/v3.15.2/calicoctl-linux-amd64</a></p><h3 id=k8s镜像下载>k8s镜像下载</h3><h4 id=编辑下载脚本>编辑下载脚本</h4><p>需要按部署k8s版本修改版本参数
download_k8s_images.sh</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span><span class=lnt>95
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell><span class=cp>#!/bin/bash
</span><span class=cp></span>
<span class=c1># 关闭防火墙</span>

<span class=c1># setenforce 0</span>
<span class=c1># systemctl stop firewalld.service</span>

<span class=c1># use cmd to list images</span>
<span class=c1># ./kubeadm config images list --kubernetes-version=v1.20.1</span>
<span class=c1># origin images</span>
<span class=c1># k8s.gcr.io/kube-apiserver:v1.20.1</span>
<span class=c1># k8s.gcr.io/kube-controller-manager:v1.20.1</span>
<span class=c1># k8s.gcr.io/kube-scheduler:v1.20.1</span>
<span class=c1># k8s.gcr.io/kube-proxy:v1.20.1</span>
<span class=c1># k8s.gcr.io/pause:3.2</span>
<span class=c1># k8s.gcr.io/etcd:3.4.13-0</span>
<span class=c1># k8s.gcr.io/coredns:1.7.0</span>


<span class=nb>echo</span> <span class=s2>&#34;START downloading k8s.gcr.io/images...&#34;</span>

<span class=nv>images</span><span class=o>=(</span>
    kube-apiserver:v1.20.1
    kube-controller-manager:v1.20.1
    kube-scheduler:v1.20.1
    kube-proxy:v1.20.1
    pause:3.2
    <span class=c1># etcd:3.4.13-0</span>
    <span class=c1># etcd:3.4.3</span>
    coredns:1.7.0

    <span class=c1># requests for kubespray</span>
    k8s-dns-node-cache:1.15.13
    <span class=c1># cluster-proportional-autoscaler-amd64:1.8.1</span>
    kube-registry-proxy:0.4
    <span class=c1>#metrics-server/metrics-server:v0.3.7</span>
    <span class=c1># metrics v0.3.7 找不到，改用v0.3.6</span>
    <span class=c1># metrics-server-amd64:v0.3.6</span>
    <span class=c1># ingress-nginx/controller:v0.35.0</span>
    addon-resizer:1.8.11
<span class=o>)</span>


<span class=k>for</span> imageName in <span class=si>${</span><span class=nv>images</span><span class=p>[@]</span><span class=si>}</span> <span class=p>;</span> <span class=k>do</span>
    docker pull registry.cn-hangzhou.aliyuncs.com/google_containers/<span class=si>${</span><span class=nv>imageName</span><span class=si>}</span>
    docker tag registry.cn-hangzhou.aliyuncs.com/google_containers/<span class=si>${</span><span class=nv>imageName</span><span class=si>}</span> k8s.gcr.io/<span class=si>${</span><span class=nv>imageName</span><span class=si>}</span>
    docker rmi registry.cn-hangzhou.aliyuncs.com/google_containers/<span class=si>${</span><span class=nv>imageName</span><span class=si>}</span>
<span class=k>done</span>


<span class=c1># custom docker pull</span>

docker pull registry.cn-hangzhou.aliyuncs.com/ringtail/cluster-proportional-autoscaler-amd64:v1.3.0
docker tag registry.cn-hangzhou.aliyuncs.com/ringtail/cluster-proportional-autoscaler-amd64:v1.3.0 k8s.gcr.io/cluster-proportional-autoscaler-amd64:v1.3.0
docker rmi registry.cn-hangzhou.aliyuncs.com/ringtail/cluster-proportional-autoscaler-amd64:v1.3.0

docker pull registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server-amd64:v0.3.6
docker tag registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server-amd64:v0.3.6 k8s.gcr.io/metrics-server-amd64:v0.3.6
docker rmi registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server-amd64:v0.3.6

docker pull registry.cn-hangzhou.aliyuncs.com/google_containers/nginx-ingress-controller:0.25.1
docker tag registry.cn-hangzhou.aliyuncs.com/google_containers/nginx-ingress-controller:0.25.1 k8s.gcr.io/nginx-ingress-controller:0.25.1
docker rmi registry.cn-hangzhou.aliyuncs.com/google_containers/nginx-ingress-controller:0.25.1

<span class=c1># [root@node131 ~]# docker images</span>
<span class=c1># REPOSITORY                                                                    TAG                 IMAGE ID            CREATED             SIZE</span>
<span class=c1># registry.cn-hangzhou.aliyuncs.com/google_containers/kube-proxy                v1.20.1             e3f6fcd87756        2 days ago          118MB</span>
<span class=c1># registry.cn-hangzhou.aliyuncs.com/google_containers/kube-apiserver            v1.20.1             75c7f7112080        2 days ago          122MB</span>
<span class=c1># registry.cn-hangzhou.aliyuncs.com/google_containers/kube-controller-manager   v1.20.1             2893d78e47dc        2 days ago          116MB</span>
<span class=c1># registry.cn-hangzhou.aliyuncs.com/google_containers/kube-scheduler            v1.20.1             4aa0b4397bbb        2 days ago          46.4MB</span>
<span class=c1># registry.cn-hangzhou.aliyuncs.com/google_containers/coredns                   1.7.0               bfe3a36ebd25        6 months ago        45.2MB</span>
<span class=c1># registry.cn-hangzhou.aliyuncs.com/google_containers/pause                     3.2                 80d28bedfe5d        10 months ago       683kB</span>

<span class=c1># [root@node131 ~]# docker images</span>
<span class=c1># REPOSITORY                           TAG                 IMAGE ID            CREATED             SIZE</span>
<span class=c1># k8s.gcr.io/kube-proxy                v1.20.1             e3f6fcd87756        2 days ago          118MB</span>
<span class=c1># k8s.gcr.io/kube-controller-manager   v1.20.1             2893d78e47dc        2 days ago          116MB</span>
<span class=c1># k8s.gcr.io/kube-apiserver            v1.20.1             75c7f7112080        2 days ago          122MB</span>
<span class=c1># k8s.gcr.io/kube-scheduler            v1.20.1             4aa0b4397bbb        2 days ago          46.4MB</span>
<span class=c1># k8s.gcr.io/coredns                   1.7.0               bfe3a36ebd25        6 months ago        45.2MB</span>
<span class=c1># k8s.gcr.io/pause                     3.2                 80d28bedfe5d        10 months ago       683kB</span>


<span class=nb>echo</span> <span class=s2>&#34;END downloading k8s.gcr.io/images...&#34;</span>

<span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
<span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
<span class=nb>echo</span> <span class=s2>&#34;&#34;</span>

<span class=nb>echo</span> <span class=s2>&#34;START downloading quay.io/images...&#34;</span>

<span class=c1># docker pull quay-mirror.qiniu.com/coreos/flannel</span>
<span class=c1># docker pull quay.io/coreos/etcd:v3.4.13</span>

<span class=nb>echo</span> <span class=s2>&#34;END downloading quay.io/images...&#34;</span>
</code></pre></td></tr></table></div></div><h4 id=执行脚本>执行脚本</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>bash download_k8s_images.sh
</code></pre></td></tr></table></div></div><h2 id=非下载方式说明>非下载方式说明</h2><p>如果没有file server服务。</p><ol><li><p>需要把手动把命令目录文件拷贝到/usr/local/bin</p><ul><li>kubectl</li><li>kubeadm</li><li>kubelet</li></ul></li><li><p>同时把其它下载文件如网络插件cni等下载包，放到/tmp/release目录下</p></li></ol><h2 id=k8s相关镜像>k8s相关镜像</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown>
REPOSITORY                                         TAG                 IMAGE ID            CREATED             SIZE
k8s.gcr.io/kube-proxy                              v1.20.1             e3f6fcd87756        4 days ago          118MB
k8s.gcr.io/kube-controller-manager                 v1.20.1             2893d78e47dc        4 days ago          116MB
k8s.gcr.io/kube-apiserver                          v1.20.1             75c7f7112080        4 days ago          122MB
k8s.gcr.io/kube-scheduler                          v1.20.1             4aa0b4397bbb        4 days ago          46.4MB
nginx                                              1.19                ae2feff98a0c        7 days ago          133MB
calico/node                                        latest              048e0ac26968        4 weeks ago         165MB
kubernetesui/dashboard-amd64                       v2.0.4              46d0a29c3f61        3 months ago        225MB
calico/node                                        v3.15.2             cc7508d4d2d4        4 months ago        262MB
calico/cni                                         v3.15.2             5dadc388f979        4 months ago        110MB
calico/kube-controllers                            v3.15.2             fbbc4a1a0e98        4 months ago        52.9MB
quay.io/coreos/etcd                                v3.4.13             d1985d404385        4 months ago        83.8MB
k8s.gcr.io/addon-resizer                           1.8.11              b7db21b30ad9        5 months ago        32.8MB
coredns/coredns                                    1.7.0               bfe3a36ebd25        6 months ago        45.2MB
k8s.gcr.io/coredns                                 1.7.0               bfe3a36ebd25        6 months ago        45.2MB
kubernetesui/metrics-scraper                       v1.0.5              2cd72547f23f        6 months ago        36.7MB
k8s.gcr.io/k8s-dns-node-cache                      1.15.13             3f7a09f7cade        7 months ago        107MB
k8s.gcr.io/pause                                   3.2                 80d28bedfe5d        10 months ago       683kB
k8s.gcr.io/metrics-server-amd64                    v0.3.6              9dd718864ce6        14 months ago       39.9MB
k8s.gcr.io/nginx-ingress-controller                0.25.1              0439eb3e11f1        16 months ago       511MB
k8s.gcr.io/cluster-proportional-autoscaler-amd64   v1.3.0              33813c948942        2 years ago         45.8MB
k8s.gcr.io/kube-registry-proxy                     0.4                 60dc18151daf        3 years ago         188MB


</code></pre></td></tr></table></div></div><ul><li>k8s核心组件版本：1.20.1</li><li>etcd版本：3.4.13</li></ul><h2 id=k8s组件适配>k8s组件适配</h2><h3 id=kube-batch>kube-batch</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell><span class=o>[</span>root@node2 kube-batch<span class=o>]</span><span class=c1># ./deploy.sh</span>
configmap/kube-batch created
Warning: rbac.authorization.k8s.io/v1beta1 ClusterRoleBinding is deprecated in v1.17+, unavailable in v1.22+<span class=p>;</span> use rbac.authorization.k8s.io/v1 ClusterRoleBinding
clusterrolebinding.rbac.authorization.k8s.io/default-sa-admin created
deployment.apps/kube-batch created
Warning: apiextensions.k8s.io/v1beta1 CustomResourceDefinition is deprecated in v1.16+, unavailable in v1.22+<span class=p>;</span> use apiextensions.k8s.io/v1 CustomResourceDefinition
customresourcedefinition.apiextensions.k8s.io/podgroups.scheduling.incubator.k8s.io created
Warning: apiextensions.k8s.io/v1beta1 CustomResourceDefinition is deprecated in v1.16+, unavailable in v1.22+<span class=p>;</span> use apiextensions.k8s.io/v1 CustomResourceDefinition
customresourcedefinition.apiextensions.k8s.io/queues.scheduling.incubator.k8s.io created
Warning: apiextensions.k8s.io/v1beta1 CustomResourceDefinition is deprecated in v1.16+, unavailable in v1.22+<span class=p>;</span> use apiextensions.k8s.io/v1 CustomResourceDefinition
customresourcedefinition.apiextensions.k8s.io/podgroups.scheduling.sigs.dev created
Warning: apiextensions.k8s.io/v1beta1 CustomResourceDefinition is deprecated in v1.16+, unavailable in v1.22+<span class=p>;</span> use apiextensions.k8s.io/v1 CustomResourceDefinition
customresourcedefinition.apiextensions.k8s.io/queues.scheduling.sigs.dev created
service/kube-batch-prometheus-discovery created
queue.scheduling.incubator.k8s.io/default created
queue.scheduling.incubator.k8s.io/emergency-queue created
queue.scheduling.incubator.k8s.io/00000000000000000000000000000000 created

</code></pre></td></tr></table></div></div><img src=kube-batch.png><p>apiextensions.k8s.io/v1beta1 需要转换为 apiextensions.k8s.io/v1</p><h2 id=安装完成状态>安装完成状态</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown>
[root@node2 inventory]# kubectl get po -A -owide
NAMESPACE     NAME                                          READY   STATUS    RESTARTS   AGE     IP             NODE    NOMINATED NODE   READINESS GATES
default       myapp-batch-pod                               1/1     Running   3          3h11m   10.233.96.8    node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
default       myapp-pod                                     1/1     Running   17         3h53m   10.233.95.9    gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   calico-kube-controllers-67f55f8858-xxnrs      1/1     Running   3          18h     10.151.11.53   gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   calico-node-5ww7v                             1/1     Running   1          17h     10.151.11.61   node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   calico-node-9fkz2                             1/1     Running   2          17h     10.151.11.53   gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   coredns-8677555d68-bjkl2                      1/1     Running   2          18h     10.233.96.5    node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   dns-autoscaler-5fb74f6dd4-wj62q               0/1     Running   2          18h     10.233.96.6    node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   kube-apiserver-node2                          1/1     Running   2          18h     10.151.11.61   node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   kube-batch-56858cf46f-tmnsb                   1/1     Running   0          3h25m   10.233.96.7    node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   kube-controller-manager-node2                 1/1     Running   2          18h     10.151.11.61   node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   kube-proxy-77tw9                              1/1     Running   2          18h     10.151.11.61   node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   kube-proxy-8vsdb                              1/1     Running   3          18h     10.151.11.53   gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   kube-scheduler-node2                          1/1     Running   2          18h     10.151.11.61   node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   kubernetes-dashboard-dfb67d98c-b8n5j          1/1     Running   4          18h     10.233.95.7    gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   kubernetes-metrics-scraper-54df648466-4jcc2   1/1     Running   3          18h     10.233.95.8    gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   nginx-proxy-gpu53                             1/1     Running   3          18h     10.151.11.53   gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   nodelocaldns-m26kx                            1/1     Running   2          18h     10.151.11.61   node2   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
kube-system   nodelocaldns-qm62v                            1/1     Running   3          18h     10.151.11.53   gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
[root@node2 inventory]#
[root@node2 inventory]#
[root@node2 inventory]#
[root@node2 inventory]# kubectl get no -owide
NAME    STATUS   ROLES                  AGE   VERSION   INTERNAL-IP    EXTERNAL-IP   OS-IMAGE                KERNEL-VERSION          CONTAINER-RUNTIME
gpu53   Ready    <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>                 18h   v1.20.1   10.151.11.53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>        CentOS Linux 7 (Core)   3.10.0-862.el7.x86_64   docker://19.3.12
node2   Ready    control-plane,master   18h   v1.20.1   10.151.11.61   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>        CentOS Linux 7 (Core)   3.10.0-862.el7.x86_64   docker://19.3.12


</code></pre></td></tr></table></div></div><p>说明：dns-autoscaler没有起来，是因为其版本过低。与集群k8s版本不匹配导致，其不影响k8s组件测试</p><h2 id=问题>问题</h2><h3 id=coredns等报错connect-no-route-to-host>coredns等报错：connect: no route to host</h3><p>现象：
dial tcp 10.233.0.1:443: connect: no route to host</p><p>执行下面命令解决</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>systemctl stop kubelet
systemctl stop docker
iptables --flush
iptables -tnat --flush
systemctl start docker
systemctl start kubelet
</code></pre></td></tr></table></div></div><p>The route problem can be solved by flush iptables.
类似网络路由问题，都可以使用上面命令解决</p><h3 id=dns-autoscaler-报错>dns-autoscaler 报错</h3><p>dns-autoscaler Update failure: the server could not find the requested resource</p><p>E1222 01:07:18.706470 1 autoscaler_server.go:120] Update failure: the server could not find the requested resource</p><p>由于dns-autoscaler安装部署使用了低版本，现象分析可能是由于接口不匹配导致</p><h3 id=创建pod报错>创建pod报错</h3><p>networkPlugin cni failed to set up pod &ldquo;myapp-pod_default&rdquo; network: failed to Statfs &ldquo;/proc/62177/ns/net&rdquo;: no such file or directory</p><p>networkPlugin cni failed to set up pod network: failed to Statfs: no such file or directory 有人建议操作如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-md data-lang=md>I executed following commands:
sudo systemctl stop kubelet
docker ps
docker stop [all running containers id]
rm -rf /etc/cni/net.d/*
sudo kubeadm reset
sudo iptables -F <span class=err>&amp;&amp;</span> sudo iptables -t nat -F <span class=err>&amp;&amp;</span> sudo iptables -t mangle -F <span class=err>&amp;&amp;</span> sudo iptables -X
sudo systemctl restart docker.service



https://github.com/kubernetes/kubernetes/issues/90429

https://github.com/kubernetes/kubernetes/issues/72044

https://github.com/vmware-tanzu/antrea/issues/831

</code></pre></td></tr></table></div></div><p>仔细分析系统日志/var/log/messages，发现Memory cgroup out of memory导致</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>Dec <span class=m>22</span> 14:58:50 node131 kernel: Memory cgroup stats <span class=k>for</span> /kubepods.slice/kubepods-pod7458ce47_f199_4abc_bced_747429207f75.slice/docker-efdd061c291cc737e425bfe6b7f25a69352d75a99415143955098311908588c8.scope: cache:0KB rss:2048KB rss_huge:0KB mapped_file:0KB swap:0KB inactive_anon:0KB active_anon:2008KB inactive_file:0KB active_file:0KB unevictable:0KB
Dec <span class=m>22</span> 14:58:50 node131 kernel: <span class=o>[</span> pid <span class=o>]</span>   uid  tgid total_vm      rss nr_ptes swapents oom_score_adj name
Dec <span class=m>22</span> 14:58:50 node131 kernel: <span class=o>[</span>17978<span class=o>]</span>     <span class=m>0</span> <span class=m>17978</span>    <span class=m>39699</span>     <span class=m>2343</span>      <span class=m>27</span>        <span class=m>0</span>          -998 runc:<span class=o>[</span>2:INIT<span class=o>]</span>
Dec <span class=m>22</span> 14:58:50 node131 kernel: Memory cgroup out of memory: Kill process <span class=m>17983</span> <span class=o>(</span>runc:<span class=o>[</span>2:INIT<span class=o>])</span> score <span class=m>4628</span> or sacrifice child
Dec <span class=m>22</span> 14:58:50 node131 kernel: Killed process <span class=m>17978</span> <span class=o>(</span>runc:<span class=o>[</span>2:INIT<span class=o>])</span>, UID 0, total-vm:158796kB, anon-rss:6420kB, file-rss:2952kB, shmem-rss:0kB
Dec <span class=m>22</span> 14:58:50 node131 kubelet: W1222 14:58:50.043333    <span class=m>1923</span> helpers.go:198<span class=o>]</span> readString: Failed to <span class=nb>read</span> <span class=s2>&#34;/sys/fs/cgroup/memory/kubepods.slice/kubepods-pod7458ce47_f199_4abc_bced_747429207f75.slice/docker-efdd061c291cc737e425bfe6b7f25a69352d75a99415143955098311908588c8.scope/memory.limit_in_bytes&#34;</span>: <span class=nb>read</span> /sys/fs/cgroup/memory/kubepods.slice/kubepods-pod7458ce47_f199_4abc_bced_747429207f75.slice/docker-efdd061c291cc737e425bfe6b7f25a69352d75a99415143955098311908588c8.scope/memory.limit_in_bytes: no such device


</code></pre></td></tr></table></div></div><p>修改pod 请求内存，一般是请求内存太小，导致实际使用内存超过限制，被系统杀掉该pod进程</p><h3 id=出现目录无法删除device-or-resource-busy>出现目录无法删除：Device or resource busy</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1># rm -rf kubelet/</span>
rm: cannot remove ‘kubelet/pods/837704db-2bae-11eb-913c-6c92bf8c5840/volumes/kubernetes.io~secret/kube-proxy-token-8mdk5’: Device or resource busy
rm: cannot remove ‘kubelet/pods/bce1b611-2bc3-11eb-9c41-6c92bf8c5840/volumes/kubernetes.io~secret/calico-node-token-d9dv8’: Device or resource busy
rm: cannot remove ‘kubelet/pods/402d0c26-43fd-11eb-bdb1-6c92bf8c5840/volumes/kubernetes.io~secret/default-token-vlvfj’: Device or resource busy

</code></pre></td></tr></table></div></div><p>lsof没有信息，则查看挂载信息，并取消挂载。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>
<span class=c1># mount</span>
tmpfs on /var/lib/kubelet/pods/bce1b611-2bc3-11eb-9c41-6c92bf8c5840/volumes/kubernetes.io~secret/calico-node-token-d9dv8 <span class=nb>type</span> tmpfs <span class=o>(</span>rw,relatime<span class=o>)</span>
tmpfs on /var/lib/kubelet/pods/837704db-2bae-11eb-913c-6c92bf8c5840/volumes/kubernetes.io~secret/kube-proxy-token-8mdk5 <span class=nb>type</span> tmpfs <span class=o>(</span>rw,relatime<span class=o>)</span>

</code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1># mount |grep kubelet</span>
tmpfs on /var/lib/kubelet/pods/837704db-2bae-11eb-913c-6c92bf8c5840/volumes/kubernetes.io~secret/kube-proxy-token-8mdk5 <span class=nb>type</span> tmpfs <span class=o>(</span>rw,relatime<span class=o>)</span>
tmpfs on /var/lib/kubelet/pods/402d0c26-43fd-11eb-bdb1-6c92bf8c5840/volumes/kubernetes.io~secret/default-token-vlvfj <span class=nb>type</span> tmpfs <span class=o>(</span>rw,relatime<span class=o>)</span>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1>#</span>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1>#</span>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1># umount /var/lib/kubelet/pods/837704db-2bae-11eb-913c-6c92bf8c5840/volumes/kubernetes.io~secret/kube-proxy-token-8mdk5</span>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1>#</span>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1>#</span>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1># umount /var/lib/kubelet/pods/402d0c26-43fd-11eb-bdb1-6c92bf8c5840/volumes/kubernetes.io~secret/default-token-vlvfj</span>
<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1>#</span>

<span class=o>[</span>root@gpu53 lib<span class=o>]</span><span class=c1># rm -rf kubelet/</span>
</code></pre></td></tr></table></div></div><h3 id=calico-node-pod一直没有起来>calico node pod一直没有起来</h3><p>Number of node(s) with BGP peering established = 0</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown>网上解决方法如下：
https://blog.csdn.net/qq_36783142/article/details/107912407
<span class=k>-</span> name: IP_AUTODETECTION_METHOD
  value: &#34;interface=enp26s0f3&#34;
但此方式不能解决自己环境所遇问题。
</code></pre></td></tr></table></div></div><p>自己分析应该是网络路由问题（原来环境残留的脏路由导致），做下清理处理</p><p>执行下面命令解决</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>systemctl stop kubelet
systemctl stop docker
iptables --flush
iptables -tnat --flush
systemctl start docker
systemctl start kubelet
</code></pre></td></tr></table></div></div><h3 id=启动测试podfailed-to-create-pod-sandbox>启动测试pod，Failed to create pod sandbox</h3><p>getting the final child&rsquo;s pid from pipe caused: read init-p: connection reset by peer: unknown</p><p>报错如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown>Events:
  Type     Reason                  Age                 From               Message
  ----     ------                  ----                ----               -------
  Normal   Scheduled               74s                 default-scheduler  Successfully assigned default/myapp-pod to gpu53
  Normal   SandboxChanged          78s (x12 over 89s)  kubelet            Pod sandbox changed, it will be killed and re-created.
  Warning  FailedCreatePodSandBox  77s (x13 over 90s)  kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed to start sandbox container for pod &#34;myapp-pod&#34;: Error response from daemon: OCI runtime create failed: container_linux.go:370: starting container process caused: process_linux.go:338: getting the final child&#39;s pid from pipe caused: read init-p: connection reset by peer: unknown
</code></pre></td></tr></table></div></div><p>检查内核参数 max_user_namespaces，并修改，该方式为临时生效。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell><span class=o>[</span>root@node2 ~<span class=o>]</span><span class=c1># cat /proc/sys/user/max_user_namespaces</span>
<span class=m>0</span>
<span class=o>[</span>root@node2 ~<span class=o>]</span><span class=c1>#</span>
<span class=o>[</span>root@node2 ~<span class=o>]</span><span class=c1>#</span>
<span class=o>[</span>root@node2 ~<span class=o>]</span><span class=c1># echo 10000 &gt; /proc/sys/user/max_user_namespaces</span>
<span class=o>[</span>root@node2 ~<span class=o>]</span><span class=c1>#</span>
<span class=o>[</span>root@node2 ~<span class=o>]</span><span class=c1>#</span>
<span class=o>[</span>root@node2 ~<span class=o>]</span><span class=c1># cat /proc/sys/user/max_user_namespaces</span>
<span class=m>10000</span>
<span class=o>[</span>root@node2 ~<span class=o>]</span><span class=c1>#</span>

</code></pre></td></tr></table></div></div><p>具体详细修改参数user namespaces方式， 参考<a href=http://bingerambo.com/2020-12-23-centos-7-enable-user-namespaces/ target=_blank rel="noopener noreffer">配置 CentOS 7 系统启用 user namespaces</a></p><h3 id=kuelet120-配置--cgroups-per-qosfalse-时会导致kubelet无法正常启动>kuelet1.20 配置&ndash;cgroups-per-qos=False 时会导致kubelet无法正常启动</h3><p>kuelet1.20 默认开启cgroups-per-qos</p><p>kubelet启动的pod 所在cgroup组一般都在cgroup的kubepods.slice 目录下，</p><h3 id=测试pod一直是containercreating>测试pod一直是ContainerCreating</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown>NAMESPACE     NAME                                          READY   STATUS              RESTARTS   AGE   IP             NODE    NOMINATED NODE   READINESS GATES
default       myapp-pod                                     0/1     ContainerCreating   0          11m   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>         gpu53   <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>           <span class=p>&lt;</span><span class=nt>none</span><span class=p>&gt;</span>
k
</code></pre></td></tr></table></div></div><p>系统日志打印信息如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-markdown data-lang=markdown>Dec 23 09:52:18 gpu53 kernel: Task in /kubepods.slice/kubepods-pod40b435fc_0bbb_4eeb_9bff_5ce1f473cb9e.slice/docker-1f0491dfbae47dcf8a6b8f5b6f94e50ef3da592420f2d25e34d87f30524f71f2.scope killed as a result of limit of /kubepods.slice/kubepods-pod40b435fc_0bbb_4eeb_9bff_5ce1f473cb9e.slice
Dec 23 09:52:18 gpu53 kernel: memory: usage 2048kB, limit 2048kB, failcnt 861
Dec 23 09:52:18 gpu53 kernel: memory+swap: usage 2048kB, limit 9007199254740988kB, failcnt 0
Dec 23 09:52:18 gpu53 kernel: kmem: usage 0kB, limit 9007199254740988kB, failcnt 0
Dec 23 09:52:18 gpu53 kernel: Memory cgroup stats for /kubepods.slice/kubepods-pod40b435fc_0bbb_4eeb_9bff_5ce1f473cb9e.slice: cache:0KB rss:0KB rss_huge:0KB mapped_file:0KB swap:0KB inactive_anon:0KB active_anon:0KB inactive_file:0KB active_file:0KB unevictable:0KB
Dec 23 09:52:18 gpu53 kernel: Memory cgroup stats for /kubepods.slice/kubepods-pod40b435fc_0bbb_4eeb_9bff_5ce1f473cb9e.slice/docker-1f0491dfbae47dcf8a6b8f5b6f94e50ef3da592420f2d25e34d87f30524f71f2.scope: cache:0KB rss:2048KB rss_huge:0KB mapped_file:0KB swap:0KB inactive_anon:0KB active_anon:2020KB inactive_file:0KB active_file:0KB unevictable:0KB
Dec 23 09:52:18 gpu53 kernel: [ pid ]   uid  tgid total_vm      rss nr_ptes swapents oom_score_adj name
Dec 23 09:52:18 gpu53 kernel: [112691]     0 112691     5734     1041      13        0          -998 6
Dec 23 09:52:18 gpu53 kernel: Memory cgroup out of memory: Kill process 112691 (6) score 1998 or sacrifice child
Dec 23 09:52:18 gpu53 kernel: Killed process 112691 (6) total-vm:22936kB, anon-rss:1944kB, file-rss:2220kB, shmem-rss:0kB
Dec 23 09:52:18 gpu53 systemd: Stopped libcontainer container 1f0491dfbae47dcf8a6b8f5b6f94e50ef3da592420f2d25e34d87f30524f71f2.
Dec 23 09:52:18 gpu53 systemd: Stopping libcontainer container 1f0491dfbae47dcf8a6b8f5b6f94e50ef3da592420f2d25e34d87f30524f71f2.
Dec 23 09:52:18 gpu53 containerd: time=&#34;2020-12-23T09:52:18.227196277+08:00&#34; level=info msg=&#34;shim reaped&#34; id=1f0491dfbae47dcf8a6b8f5b6f94e50ef3da592420f2d25e34d87f30524f71f2
Dec 23 09:52:18 gpu53 dockerd: time=&#34;2020-12-23T09:52:18.237403201+08:00&#34; level=error msg=&#34;stream copy error: reading from a closed fifo&#34;
Dec 23 09:52:18 gpu53 dockerd: time=&#34;2020-12-23T09:52:18.237413120+08:00&#34; level=error msg=&#34;stream copy error: reading from a closed fifo&#34;
Dec 23 09:52:18 gpu53 dockerd: time=&#34;2020-12-23T09:52:18.271031114+08:00&#34; level=error msg=&#34;1f0491dfbae47dcf8a6b8f5b6f94e50ef3da592420f2d25e34d87f30524f71f2 cleanup: failed to delete container from containerd: no such container&#34;
Dec 23 09:52:18 gpu53 dockerd: time=&#34;2020-12-23T09:52:18.271110530+08:00&#34; level=error msg=&#34;Handler for POST /v1.40/containers/1f0491dfbae47dcf8a6b8f5b6f94e50ef3da592420f2d25e34d87f30524f71f2/start returned error: OCI runtime create failed: container_linux.go:370: starting container process caused: process_linux.go:338: getting the final child&#39;s pid from pipe caused: read init-p: connection reset by peer: unknown&#34;
Dec 23 09:52:18 gpu53 kubelet: E1223 09:52:18.271582  104914 remote_runtime.go:116] RunPodSandbox from runtime service failed: rpc error: code = Unknown desc = failed to start sandbox container for pod &#34;myapp-pod&#34;: Error response from daemon: OCI runtime create failed: container_linux.go:370: starting container process caused: process_linux.go:338: getting the final child&#39;s pid from pipe caused: read init-p: connection reset by peer: unknown
Dec 23 09:52:18 gpu53 kubelet: E1223 09:52:18.271680  104914 kuberuntime_sandbox.go:70] CreatePodSandbox for pod &#34;myapp-pod_default(40b435fc-0bbb-4eeb-9bff-5ce1f473cb9e)&#34; failed: rpc error: code = Unknown desc = failed to start sandbox container for pod &#34;myapp-pod&#34;: Error response from daemon: OCI runtime create failed: container_linux.go:370: starting container process caused: process_linux.go:338: getting the final child&#39;s pid from pipe caused: read init-p: connection reset by peer: unknown
Dec 23 09:52:18 gpu53 kubelet: E1223 09:52:18.271705  104914 kuberuntime_manager.go:755] createPodSandbox for pod &#34;myapp-pod_default(40b435fc-0bbb-4eeb-9bff-5ce1f473cb9e)&#34; failed: rpc error: code = Unknown desc = failed to start sandbox container for pod &#34;myapp-pod&#34;: Error response from daemon: OCI runtime create failed: container_linux.go:370: starting container process caused: process_linux.go:338: getting the final child&#39;s pid from pipe caused: read init-p: connection reset by peer: unknown
Dec 23 09:52:18 gpu53 kubelet: E1223 09:52:18.271793  104914 pod_workers.go:191] Error syncing pod 40b435fc-0bbb-4eeb-9bff-5ce1f473cb9e (&#34;myapp-pod_default(40b435fc-0bbb-4eeb-9bff-5ce1f473cb9e)&#34;), skipping: failed to &#34;CreatePodSandbox&#34; for &#34;myapp-pod_default(40b435fc-0bbb-4eeb-9bff-5ce1f473cb9e)&#34; with CreatePodSandboxError: &#34;CreatePodSandbox for pod \&#34;myapp-pod_default(40b435fc-0bbb-4eeb-9bff-5ce1f473cb9e)\&#34; failed: rpc error: code = Unknown desc = failed to start sandbox container for pod \&#34;myapp-pod\&#34;: Error response from daemon: OCI runtime create failed: container_linux.go:370: starting container process caused: process_linux.go:338: getting the final child&#39;s pid from pipe caused: read init-p: connection reset by peer: unknown&#34;
Dec 23 09:52:19 gpu53 kubelet: I1223 09:52:19.101556  104914 kubelet.go:1923] SyncLoop (PLEG): &#34;myapp-pod_default(40b435fc-0bbb-4eeb-9bff-5ce1f473cb9e)&#34;, event: <span class=err>&amp;</span>pleg.PodLifecycleEvent{ID:&#34;40b435fc-0bbb-4eeb-9bff-5ce1f473cb9e&#34;, Type:&#34;ContainerDied&#34;, Data:&#34;1f0491dfbae47dcf8a6b8f5b6f94e50ef3da592420f2d25e34d87f30524f71f2&#34;}
</code></pre></td></tr></table></div></div><p>检查kubelet的cgroup参数和系统中的cgroup配置，没有问题。
定位测试pod请求资源太少（2M）导致，实际内存使用量超过2M，导致系统根据cgroup杀掉该pod容器进程
把该pod请求内存改大，比如20M，则pod运行正常。</p><h2 id=附录>附录</h2><h3 id=命令>命令</h3><ul><li>给节点node2 打master标签</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>kubectl label node node2 node-role.kubernetes.io/master<span class=o>=</span><span class=nb>true</span> --overwrite
</code></pre></td></tr></table></div></div><ul><li>给节点gpu53 打node标签</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>kubectl label node gpu53 node-role.kubernetes.io/node<span class=o>=</span><span class=nb>true</span> --overwrite
</code></pre></td></tr></table></div></div><ul><li>强制删除某pod</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>kubectl delete po myapp-pod --force --grace-period<span class=o>=</span><span class=m>0</span>
</code></pre></td></tr></table></div></div><ul><li>docker 镜像批量打包</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>docker save <span class=k>$(</span>docker images <span class=p>|</span> grep -v REPOSITORY <span class=p>|</span> awk <span class=s1>&#39;BEGIN{OFS=&#34;:&#34;;ORS=&#34; &#34;}{print $1,$2}&#39;</span><span class=k>)</span> -o k8s_packages.tar
</code></pre></td></tr></table></div></div><h3 id=访问dashboard>访问dashboard</h3><p>使用kubectl proxy</p><p>使用kubectl proxy命令就可以使API server监听在本地的8001端口上
使用命令如下:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>kubectl proxy --address<span class=o>=</span><span class=s1>&#39;0.0.0.0&#39;</span>  --accept-hosts<span class=o>=</span><span class=s1>&#39;^*$&#39;</span>
</code></pre></td></tr></table></div></div><p>则在内网的任意节点浏览器中可以使用地址访问，当然该地址需要证书授权访问</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>curl http://192.168.182.131:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/
</code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2020-12-25</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/k8s/>K8S</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2020-12-23-centos-7-enable-user-namespaces/ class=prev rel=prev title="CentOS 7 启用 user namespaces（用户命名空间）"><i class="fas fa-angle-left fa-fw"></i>CentOS 7 启用 user namespaces（用户命名空间）</a>
<a href=/2020-12-25-install-nvdocker-k8s-nv-dp/ class=next rel=next title="安装NVIDIA Docker2(NVIDIA Container V2)和NVIDIA K8S-GPU插件">安装NVIDIA Docker2(NVIDIA Container V2)和NVIDIA K8S-GPU插件<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2020</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=bingerambo.com target=_blank>Binge</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=http://bingerambo.com/ target=_blank>bingerambo.com</a></span></div><div class=footer-line><i class="fa fa-eye"></i>本站总访问量<span id=busuanzi_value_site_pv></span>次
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-81425808-1',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-81425808-1" async></script><script src=https://libs.baidu.com/jquery/2.1.4/jquery.min.js></script><script src=https://cdn.bootcdn.net/ajax/libs/jquery-backstretch/2.1.18/jquery.backstretch.min.js></script><script type=text/javascript src=/js/custom.js></script><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?c0176279eee823ce422da4e8d06708f9";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script></body></html>